(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function oh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jo={exports:{}},hs={},Yo={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd;function Ip(){if(vd)return se;vd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=k&&E[k]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,P={};function j(E,A,ne){this.props=E,this.context=A,this.refs=P,this.updater=ne||b}j.prototype.isReactComponent={},j.prototype.setState=function(E,A){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,A,"setState")},j.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function M(){}M.prototype=j.prototype;function U(E,A,ne){this.props=E,this.context=A,this.refs=P,this.updater=ne||b}var D=U.prototype=new M;D.constructor=U,T(D,j.prototype),D.isPureReactComponent=!0;var H=Array.isArray,le=Object.prototype.hasOwnProperty,te={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function Se(E,A,ne){var ie,ue={},ce=null,me=null;if(A!=null)for(ie in A.ref!==void 0&&(me=A.ref),A.key!==void 0&&(ce=""+A.key),A)le.call(A,ie)&&!ae.hasOwnProperty(ie)&&(ue[ie]=A[ie]);var he=arguments.length-2;if(he===1)ue.children=ne;else if(1<he){for(var _e=Array(he),lt=0;lt<he;lt++)_e[lt]=arguments[lt+2];ue.children=_e}if(E&&E.defaultProps)for(ie in he=E.defaultProps,he)ue[ie]===void 0&&(ue[ie]=he[ie]);return{$$typeof:s,type:E,key:ce,ref:me,props:ue,_owner:te.current}}function je(E,A){return{$$typeof:s,type:E.type,key:A,ref:E.ref,props:E.props,_owner:E._owner}}function xe(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function Be(E){var A={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ne){return A[ne]})}var Ie=/\/+/g;function We(E,A){return typeof E=="object"&&E!==null&&E.key!=null?Be(""+E.key):A.toString(36)}function kt(E,A,ne,ie,ue){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var me=!1;if(E===null)me=!0;else switch(ce){case"string":case"number":me=!0;break;case"object":switch(E.$$typeof){case s:case r:me=!0}}if(me)return me=E,ue=ue(me),E=ie===""?"."+We(me,0):ie,H(ue)?(ne="",E!=null&&(ne=E.replace(Ie,"$&/")+"/"),kt(ue,A,ne,"",function(lt){return lt})):ue!=null&&(xe(ue)&&(ue=je(ue,ne+(!ue.key||me&&me.key===ue.key?"":(""+ue.key).replace(Ie,"$&/")+"/")+E)),A.push(ue)),1;if(me=0,ie=ie===""?".":ie+":",H(E))for(var he=0;he<E.length;he++){ce=E[he];var _e=ie+We(ce,he);me+=kt(ce,A,ne,_e,ue)}else if(_e=w(E),typeof _e=="function")for(E=_e.call(E),he=0;!(ce=E.next()).done;)ce=ce.value,_e=ie+We(ce,he++),me+=kt(ce,A,ne,_e,ue);else if(ce==="object")throw A=String(E),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return me}function Nt(E,A,ne){if(E==null)return E;var ie=[],ue=0;return kt(E,ie,"","",function(ce){return A.call(ne,ce,ue++)}),ie}function tt(E){if(E._status===-1){var A=E._result;A=A(),A.then(function(ne){(E._status===0||E._status===-1)&&(E._status=1,E._result=ne)},function(ne){(E._status===0||E._status===-1)&&(E._status=2,E._result=ne)}),E._status===-1&&(E._status=0,E._result=A)}if(E._status===1)return E._result.default;throw E._result}var Te={current:null},z={transition:null},X={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:z,ReactCurrentOwner:te};function W(){throw Error("act(...) is not supported in production builds of React.")}return se.Children={map:Nt,forEach:function(E,A,ne){Nt(E,function(){A.apply(this,arguments)},ne)},count:function(E){var A=0;return Nt(E,function(){A++}),A},toArray:function(E){return Nt(E,function(A){return A})||[]},only:function(E){if(!xe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},se.Component=j,se.Fragment=n,se.Profiler=l,se.PureComponent=U,se.StrictMode=a,se.Suspense=m,se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,se.act=W,se.cloneElement=function(E,A,ne){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ie=T({},E.props),ue=E.key,ce=E.ref,me=E._owner;if(A!=null){if(A.ref!==void 0&&(ce=A.ref,me=te.current),A.key!==void 0&&(ue=""+A.key),E.type&&E.type.defaultProps)var he=E.type.defaultProps;for(_e in A)le.call(A,_e)&&!ae.hasOwnProperty(_e)&&(ie[_e]=A[_e]===void 0&&he!==void 0?he[_e]:A[_e])}var _e=arguments.length-2;if(_e===1)ie.children=ne;else if(1<_e){he=Array(_e);for(var lt=0;lt<_e;lt++)he[lt]=arguments[lt+2];ie.children=he}return{$$typeof:s,type:E.type,key:ue,ref:ce,props:ie,_owner:me}},se.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},se.createElement=Se,se.createFactory=function(E){var A=Se.bind(null,E);return A.type=E,A},se.createRef=function(){return{current:null}},se.forwardRef=function(E){return{$$typeof:f,render:E}},se.isValidElement=xe,se.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:tt}},se.memo=function(E,A){return{$$typeof:g,type:E,compare:A===void 0?null:A}},se.startTransition=function(E){var A=z.transition;z.transition={};try{E()}finally{z.transition=A}},se.unstable_act=W,se.useCallback=function(E,A){return Te.current.useCallback(E,A)},se.useContext=function(E){return Te.current.useContext(E)},se.useDebugValue=function(){},se.useDeferredValue=function(E){return Te.current.useDeferredValue(E)},se.useEffect=function(E,A){return Te.current.useEffect(E,A)},se.useId=function(){return Te.current.useId()},se.useImperativeHandle=function(E,A,ne){return Te.current.useImperativeHandle(E,A,ne)},se.useInsertionEffect=function(E,A){return Te.current.useInsertionEffect(E,A)},se.useLayoutEffect=function(E,A){return Te.current.useLayoutEffect(E,A)},se.useMemo=function(E,A){return Te.current.useMemo(E,A)},se.useReducer=function(E,A,ne){return Te.current.useReducer(E,A,ne)},se.useRef=function(E){return Te.current.useRef(E)},se.useState=function(E){return Te.current.useState(E)},se.useSyncExternalStore=function(E,A,ne){return Te.current.useSyncExternalStore(E,A,ne)},se.useTransition=function(){return Te.current.useTransition()},se.version="18.3.1",se}var wd;function _l(){return wd||(wd=1,Yo.exports=Ip()),Yo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function Dp(){if(_d)return hs;_d=1;var s=_l(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,g){var y,k={},w=null,b=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(b=m.ref);for(y in m)a.call(m,y)&&!c.hasOwnProperty(y)&&(k[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)k[y]===void 0&&(k[y]=m[y]);return{$$typeof:r,type:f,key:w,ref:b,props:k,_owner:l.current}}return hs.Fragment=n,hs.jsx=h,hs.jsxs=h,hs}var kd;function Lp(){return kd||(kd=1,Jo.exports=Dp()),Jo.exports}var R=Lp(),re=_l();const $p=oh(re);var $i={},Qo={exports:{}},ot={},Xo={exports:{}},Zo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd;function Up(){return Sd||(Sd=1,(function(s){function r(z,X){var W=z.length;z.push(X);e:for(;0<W;){var E=W-1>>>1,A=z[E];if(0<l(A,X))z[E]=X,z[W]=A,W=E;else break e}}function n(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var X=z[0],W=z.pop();if(W!==X){z[0]=W;e:for(var E=0,A=z.length,ne=A>>>1;E<ne;){var ie=2*(E+1)-1,ue=z[ie],ce=ie+1,me=z[ce];if(0>l(ue,W))ce<A&&0>l(me,ue)?(z[E]=me,z[ce]=W,E=ce):(z[E]=ue,z[ie]=W,E=ie);else if(ce<A&&0>l(me,W))z[E]=me,z[ce]=W,E=ce;else break e}}return X}function l(z,X){var W=z.sortIndex-X.sortIndex;return W!==0?W:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,f=h.now();s.unstable_now=function(){return h.now()-f}}var m=[],g=[],y=1,k=null,w=3,b=!1,T=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(z){for(var X=n(g);X!==null;){if(X.callback===null)a(g);else if(X.startTime<=z)a(g),X.sortIndex=X.expirationTime,r(m,X);else break;X=n(g)}}function H(z){if(P=!1,D(z),!T)if(n(m)!==null)T=!0,tt(le);else{var X=n(g);X!==null&&Te(H,X.startTime-z)}}function le(z,X){T=!1,P&&(P=!1,M(Se),Se=-1),b=!0;var W=w;try{for(D(X),k=n(m);k!==null&&(!(k.expirationTime>X)||z&&!Be());){var E=k.callback;if(typeof E=="function"){k.callback=null,w=k.priorityLevel;var A=E(k.expirationTime<=X);X=s.unstable_now(),typeof A=="function"?k.callback=A:k===n(m)&&a(m),D(X)}else a(m);k=n(m)}if(k!==null)var ne=!0;else{var ie=n(g);ie!==null&&Te(H,ie.startTime-X),ne=!1}return ne}finally{k=null,w=W,b=!1}}var te=!1,ae=null,Se=-1,je=5,xe=-1;function Be(){return!(s.unstable_now()-xe<je)}function Ie(){if(ae!==null){var z=s.unstable_now();xe=z;var X=!0;try{X=ae(!0,z)}finally{X?We():(te=!1,ae=null)}}else te=!1}var We;if(typeof U=="function")We=function(){U(Ie)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Nt=kt.port2;kt.port1.onmessage=Ie,We=function(){Nt.postMessage(null)}}else We=function(){j(Ie,0)};function tt(z){ae=z,te||(te=!0,We())}function Te(z,X){Se=j(function(){z(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_continueExecution=function(){T||b||(T=!0,tt(le))},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):je=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(z){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var W=w;w=X;try{return z()}finally{w=W}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=w;w=z;try{return X()}finally{w=W}},s.unstable_scheduleCallback=function(z,X,W){var E=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?E+W:E):W=E,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=W+A,z={id:y++,callback:X,priorityLevel:z,startTime:W,expirationTime:A,sortIndex:-1},W>E?(z.sortIndex=W,r(g,z),n(m)===null&&z===n(g)&&(P?(M(Se),Se=-1):P=!0,Te(H,W-E))):(z.sortIndex=A,r(m,z),T||b||(T=!0,tt(le))),z},s.unstable_shouldYield=Be,s.unstable_wrapCallback=function(z){var X=w;return function(){var W=w;w=X;try{return z.apply(this,arguments)}finally{w=W}}}})(Zo)),Zo}var bd;function Mp(){return bd||(bd=1,Xo.exports=Up()),Xo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function zp(){if(Ed)return ot;Ed=1;var s=_l(),r=Mp();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},k={};function w(e){return m.call(k,e)?!0:m.call(y,e)?!1:g.test(e)?k[e]=!0:(y[e]=!0,!1)}function b(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,i,o){if(t===null||typeof t>"u"||b(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,i,o,u,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,U);j[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,U);j[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,U);j[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,i,o){var u=j.hasOwnProperty(t)?j[t]:null;(u!==null?u.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,i,u,o)&&(i=null),o||u===null?w(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(t=u.attributeName,o=u.attributeNamespace,i===null?e.removeAttribute(t):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var H=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),te=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),je=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),Be=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),We=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),z=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,E;function A(e){if(E===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var ne=!1;function ie(e,t){if(!e||ne)return"";ne=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var o=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){o=C}e.call(t.prototype)}else{try{throw Error()}catch(C){o=C}e()}}catch(C){if(C&&o&&typeof C.stack=="string"){for(var u=C.stack.split(`
`),d=o.stack.split(`
`),p=u.length-1,v=d.length-1;1<=p&&0<=v&&u[p]!==d[v];)v--;for(;1<=p&&0<=v;p--,v--)if(u[p]!==d[v]){if(p!==1||v!==1)do if(p--,v--,0>v||u[p]!==d[v]){var _=`
`+u[p].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=p&&0<=v);break}}}finally{ne=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?A(e):""}function ue(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case te:return"Portal";case je:return"Profiler";case Se:return"StrictMode";case We:return"Suspense";case kt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Be:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case Ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nt:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case tt:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function me(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=_e(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){o=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Os(e){e._valueTracker||(e._valueTracker=lt(e))}function El(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=_e(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ta(e,t){var i=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function xl(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=he(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tl(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function ra(e,t){Tl(e,t);var i=he(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?na(e,t.type,i):t.hasOwnProperty("defaultValue")&&na(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ol(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function na(e,t,i){(t!=="number"||Cs(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var On=Array.isArray;function Fr(e,t,i,o){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&o&&(e[i].defaultSelected=!0)}else{for(i=""+he(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function sa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cl(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(On(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:he(i)}}function Pl(e,t){var i=he(t.value),o=he(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Rl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,Nl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,u){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$h=["Webkit","ms","Moz","O"];Object.keys(Pn).forEach(function(e){$h.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pn[t]=Pn[e]})});function Al(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Pn.hasOwnProperty(e)&&Pn[e]?(""+t).trim():t+"px"}function Il(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,u=Al(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,u):e[i]=u}}var Uh=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(e,t){if(t){if(Uh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function oa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=null;function ua(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ca=null,Br=null,Wr=null;function Dl(e){if(e=Qn(e)){if(typeof ca!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Xs(t),ca(e.stateNode,e.type,t))}}function Ll(e){Br?Wr?Wr.push(e):Wr=[e]:Br=e}function $l(){if(Br){var e=Br,t=Wr;if(Wr=Br=null,Dl(e),t)for(e=0;e<t.length;e++)Dl(t[e])}}function Ul(e,t){return e(t)}function Ml(){}var da=!1;function zl(e,t,i){if(da)return e(t,i);da=!0;try{return Ul(e,t,i)}finally{da=!1,(Br!==null||Wr!==null)&&(Ml(),$l())}}function Rn(e,t){var i=e.stateNode;if(i===null)return null;var o=Xs(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var ha=!1;if(f)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){ha=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{ha=!1}function Mh(e,t,i,o,u,d,p,v,_){var C=Array.prototype.slice.call(arguments,3);try{t.apply(i,C)}catch(I){this.onError(I)}}var Nn=!1,Rs=null,js=!1,fa=null,zh={onError:function(e){Nn=!0,Rs=e}};function Fh(e,t,i,o,u,d,p,v,_){Nn=!1,Rs=null,Mh.apply(zh,arguments)}function Bh(e,t,i,o,u,d,p,v,_){if(Fh.apply(this,arguments),Nn){if(Nn){var C=Rs;Nn=!1,Rs=null}else throw Error(n(198));js||(js=!0,fa=C)}}function _r(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Fl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bl(e){if(_r(e)!==e)throw Error(n(188))}function Wh(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,o=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return Bl(u),e;if(d===o)return Bl(u),t;d=d.sibling}throw Error(n(188))}if(i.return!==o.return)i=u,o=d;else{for(var p=!1,v=u.child;v;){if(v===i){p=!0,i=u,o=d;break}if(v===o){p=!0,o=u,i=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===i){p=!0,i=d,o=u;break}if(v===o){p=!0,o=d,i=u;break}v=v.sibling}if(!p)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Wl(e){return e=Wh(e),e!==null?ql(e):null}function ql(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ql(e);if(t!==null)return t;e=e.sibling}return null}var Hl=r.unstable_scheduleCallback,Vl=r.unstable_cancelCallback,qh=r.unstable_shouldYield,Hh=r.unstable_requestPaint,Pe=r.unstable_now,Vh=r.unstable_getCurrentPriorityLevel,pa=r.unstable_ImmediatePriority,Kl=r.unstable_UserBlockingPriority,Ns=r.unstable_NormalPriority,Kh=r.unstable_LowPriority,Gl=r.unstable_IdlePriority,As=null,At=null;function Gh(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(As,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Qh,Jh=Math.log,Yh=Math.LN2;function Qh(e){return e>>>=0,e===0?32:31-(Jh(e)/Yh|0)|0}var Is=64,Ds=4194304;function An(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ls(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,d=e.pingedLanes,p=i&268435455;if(p!==0){var v=p&~u;v!==0?o=An(v):(d&=p,d!==0&&(o=An(d)))}else p=i&~u,p!==0?o=An(p):d!==0&&(o=An(d));if(o===0)return 0;if(t!==0&&t!==o&&(t&u)===0&&(u=o&-o,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-St(t),u=1<<i,o|=e[i],t&=~u;return o}function Xh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-St(d),v=1<<p,_=u[p];_===-1?((v&i)===0||(v&o)!==0)&&(u[p]=Xh(v,t)):_<=t&&(e.expiredLanes|=v),d&=~v}}function ma(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jl(){var e=Is;return Is<<=1,(Is&4194240)===0&&(Is=64),e}function ga(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function In(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=i}function ef(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-St(i),d=1<<u;t[u]=0,o[u]=-1,e[u]=-1,i&=~d}}function ya(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-St(i),u=1<<o;u&t|e[o]&t&&(e[o]|=t),i&=~u}}var fe=0;function Yl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ql,va,Xl,Zl,eu,wa=!1,$s=[],Xt=null,Zt=null,er=null,Dn=new Map,Ln=new Map,tr=[],tf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tu(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function $n(e,t,i,o,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Qn(t),t!==null&&va(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function rf(e,t,i,o,u){switch(t){case"focusin":return Xt=$n(Xt,e,t,i,o,u),!0;case"dragenter":return Zt=$n(Zt,e,t,i,o,u),!0;case"mouseover":return er=$n(er,e,t,i,o,u),!0;case"pointerover":var d=u.pointerId;return Dn.set(d,$n(Dn.get(d)||null,e,t,i,o,u)),!0;case"gotpointercapture":return d=u.pointerId,Ln.set(d,$n(Ln.get(d)||null,e,t,i,o,u)),!0}return!1}function ru(e){var t=kr(e.target);if(t!==null){var i=_r(t);if(i!==null){if(t=i.tag,t===13){if(t=Fl(i),t!==null){e.blockedOn=t,eu(e.priority,function(){Xl(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ka(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);la=o,i.target.dispatchEvent(o),la=null}else return t=Qn(i),t!==null&&va(t),e.blockedOn=i,!1;t.shift()}return!0}function nu(e,t,i){Us(e)&&i.delete(t)}function nf(){wa=!1,Xt!==null&&Us(Xt)&&(Xt=null),Zt!==null&&Us(Zt)&&(Zt=null),er!==null&&Us(er)&&(er=null),Dn.forEach(nu),Ln.forEach(nu)}function Un(e,t){e.blockedOn===t&&(e.blockedOn=null,wa||(wa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nf)))}function Mn(e){function t(u){return Un(u,e)}if(0<$s.length){Un($s[0],e);for(var i=1;i<$s.length;i++){var o=$s[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Xt!==null&&Un(Xt,e),Zt!==null&&Un(Zt,e),er!==null&&Un(er,e),Dn.forEach(t),Ln.forEach(t),i=0;i<tr.length;i++)o=tr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<tr.length&&(i=tr[0],i.blockedOn===null);)ru(i),i.blockedOn===null&&tr.shift()}var qr=H.ReactCurrentBatchConfig,Ms=!0;function sf(e,t,i,o){var u=fe,d=qr.transition;qr.transition=null;try{fe=1,_a(e,t,i,o)}finally{fe=u,qr.transition=d}}function af(e,t,i,o){var u=fe,d=qr.transition;qr.transition=null;try{fe=4,_a(e,t,i,o)}finally{fe=u,qr.transition=d}}function _a(e,t,i,o){if(Ms){var u=ka(e,t,i,o);if(u===null)Ua(e,t,o,zs,i),tu(e,o);else if(rf(u,e,t,i,o))o.stopPropagation();else if(tu(e,o),t&4&&-1<tf.indexOf(e)){for(;u!==null;){var d=Qn(u);if(d!==null&&Ql(d),d=ka(e,t,i,o),d===null&&Ua(e,t,o,zs,i),d===u)break;u=d}u!==null&&o.stopPropagation()}else Ua(e,t,o,null,i)}}var zs=null;function ka(e,t,i,o){if(zs=null,e=ua(o),e=kr(e),e!==null)if(t=_r(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Fl(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function su(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vh()){case pa:return 1;case Kl:return 4;case Ns:case Kh:return 16;case Gl:return 536870912;default:return 16}default:return 16}}var rr=null,Sa=null,Fs=null;function iu(){if(Fs)return Fs;var e,t=Sa,i=t.length,o,u="value"in rr?rr.value:rr.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var p=i-e;for(o=1;o<=p&&t[i-o]===u[d-o];o++);return Fs=u.slice(e,1<o?1-o:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function au(){return!1}function ut(e){function t(i,o,u,d,p){this._reactName=i,this._targetInst=u,this.type=o,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ws:au,this.isPropagationStopped=au,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=ut(Hr),zn=W({},Hr,{view:0,detail:0}),of=ut(zn),Ea,xa,Fn,qs=W({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(Ea=e.screenX-Fn.screenX,xa=e.screenY-Fn.screenY):xa=Ea=0,Fn=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),ou=ut(qs),lf=W({},qs,{dataTransfer:0}),uf=ut(lf),cf=W({},zn,{relatedTarget:0}),Ta=ut(cf),df=W({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),hf=ut(df),ff=W({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pf=ut(ff),mf=W({},Hr,{data:0}),lu=ut(mf),gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vf[e])?!!t[e]:!1}function Oa(){return wf}var _f=W({},zn,{key:function(e){if(e.key){var t=gf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kf=ut(_f),Sf=W({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=ut(Sf),bf=W({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Ef=ut(bf),xf=W({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=ut(xf),Of=W({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cf=ut(Of),Pf=[9,13,27,32],Ca=f&&"CompositionEvent"in window,Bn=null;f&&"documentMode"in document&&(Bn=document.documentMode);var Rf=f&&"TextEvent"in window&&!Bn,cu=f&&(!Ca||Bn&&8<Bn&&11>=Bn),du=" ",hu=!1;function fu(e,t){switch(e){case"keyup":return Pf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function jf(e,t){switch(e){case"compositionend":return pu(t);case"keypress":return t.which!==32?null:(hu=!0,du);case"textInput":return e=t.data,e===du&&hu?null:e;default:return null}}function Nf(e,t){if(Vr)return e==="compositionend"||!Ca&&fu(e,t)?(e=iu(),Fs=Sa=rr=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cu&&t.locale!=="ko"?null:t.data;default:return null}}var Af={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Af[e.type]:t==="textarea"}function gu(e,t,i,o){Ll(o),t=Js(t,"onChange"),0<t.length&&(i=new ba("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Wn=null,qn=null;function If(e){Iu(e,0)}function Hs(e){var t=Qr(e);if(El(t))return e}function Df(e,t){if(e==="change")return t}var yu=!1;if(f){var Pa;if(f){var Ra="oninput"in document;if(!Ra){var vu=document.createElement("div");vu.setAttribute("oninput","return;"),Ra=typeof vu.oninput=="function"}Pa=Ra}else Pa=!1;yu=Pa&&(!document.documentMode||9<document.documentMode)}function wu(){Wn&&(Wn.detachEvent("onpropertychange",_u),qn=Wn=null)}function _u(e){if(e.propertyName==="value"&&Hs(qn)){var t=[];gu(t,qn,e,ua(e)),zl(If,t)}}function Lf(e,t,i){e==="focusin"?(wu(),Wn=t,qn=i,Wn.attachEvent("onpropertychange",_u)):e==="focusout"&&wu()}function $f(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(qn)}function Uf(e,t){if(e==="click")return Hs(t)}function Mf(e,t){if(e==="input"||e==="change")return Hs(t)}function zf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:zf;function Hn(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!m.call(t,u)||!bt(e[u],t[u]))return!1}return!0}function ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Su(e,t){var i=ku(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ku(i)}}function bu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eu(){for(var e=window,t=Cs();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Cs(e.document)}return t}function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ff(e){var t=Eu(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&bu(i.ownerDocument.documentElement,i)){if(o!==null&&ja(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,d=Math.min(o.start,u);o=o.end===void 0?d:Math.min(o.end,u),!e.extend&&d>o&&(u=o,o=d,d=u),u=Su(i,d);var p=Su(i,o);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>o?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bf=f&&"documentMode"in document&&11>=document.documentMode,Kr=null,Na=null,Vn=null,Aa=!1;function xu(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Aa||Kr==null||Kr!==Cs(o)||(o=Kr,"selectionStart"in o&&ja(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vn&&Hn(Vn,o)||(Vn=o,o=Js(Na,"onSelect"),0<o.length&&(t=new ba("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Kr)))}function Vs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Gr={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},Ia={},Tu={};f&&(Tu=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Ks(e){if(Ia[e])return Ia[e];if(!Gr[e])return e;var t=Gr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Tu)return Ia[e]=t[i];return e}var Ou=Ks("animationend"),Cu=Ks("animationiteration"),Pu=Ks("animationstart"),Ru=Ks("transitionend"),ju=new Map,Nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){ju.set(e,t),c(t,[e])}for(var Da=0;Da<Nu.length;Da++){var La=Nu[Da],Wf=La.toLowerCase(),qf=La[0].toUpperCase()+La.slice(1);nr(Wf,"on"+qf)}nr(Ou,"onAnimationEnd"),nr(Cu,"onAnimationIteration"),nr(Pu,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(Ru,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function Au(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,Bh(o,t,void 0,e),e.currentTarget=null}function Iu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],u=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var p=o.length-1;0<=p;p--){var v=o[p],_=v.instance,C=v.currentTarget;if(v=v.listener,_!==d&&u.isPropagationStopped())break e;Au(u,v,C),d=_}else for(p=0;p<o.length;p++){if(v=o[p],_=v.instance,C=v.currentTarget,v=v.listener,_!==d&&u.isPropagationStopped())break e;Au(u,v,C),d=_}}}if(js)throw e=fa,js=!1,fa=null,e}function ve(e,t){var i=t[qa];i===void 0&&(i=t[qa]=new Set);var o=e+"__bubble";i.has(o)||(Du(t,e,2,!1),i.add(o))}function $a(e,t,i){var o=0;t&&(o|=4),Du(i,e,o,t)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Gs]){e[Gs]=!0,a.forEach(function(i){i!=="selectionchange"&&(Hf.has(i)||$a(i,!1,e),$a(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gs]||(t[Gs]=!0,$a("selectionchange",!1,t))}}function Du(e,t,i,o){switch(su(t)){case 1:var u=sf;break;case 4:u=af;break;default:u=_a}i=u.bind(null,t,i,e),u=void 0,!ha||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Ua(e,t,i,o,u){var d=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===u||v.nodeType===8&&v.parentNode===u)break;if(p===4)for(p=o.return;p!==null;){var _=p.tag;if((_===3||_===4)&&(_=p.stateNode.containerInfo,_===u||_.nodeType===8&&_.parentNode===u))return;p=p.return}for(;v!==null;){if(p=kr(v),p===null)return;if(_=p.tag,_===5||_===6){o=d=p;continue e}v=v.parentNode}}o=o.return}zl(function(){var C=d,I=ua(i),L=[];e:{var N=ju.get(e);if(N!==void 0){var F=ba,q=e;switch(e){case"keypress":if(Bs(i)===0)break e;case"keydown":case"keyup":F=kf;break;case"focusin":q="focus",F=Ta;break;case"focusout":q="blur",F=Ta;break;case"beforeblur":case"afterblur":F=Ta;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ef;break;case Ou:case Cu:case Pu:F=hf;break;case Ru:F=Tf;break;case"scroll":F=of;break;case"wheel":F=Cf;break;case"copy":case"cut":case"paste":F=pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=uu}var V=(t&4)!==0,Re=!V&&e==="scroll",x=V?N!==null?N+"Capture":null:N;V=[];for(var S=C,O;S!==null;){O=S;var $=O.stateNode;if(O.tag===5&&$!==null&&(O=$,x!==null&&($=Rn(S,x),$!=null&&V.push(Jn(S,$,O)))),Re)break;S=S.return}0<V.length&&(N=new F(N,q,null,i,I),L.push({event:N,listeners:V}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",N&&i!==la&&(q=i.relatedTarget||i.fromElement)&&(kr(q)||q[Bt]))break e;if((F||N)&&(N=I.window===I?I:(N=I.ownerDocument)?N.defaultView||N.parentWindow:window,F?(q=i.relatedTarget||i.toElement,F=C,q=q?kr(q):null,q!==null&&(Re=_r(q),q!==Re||q.tag!==5&&q.tag!==6)&&(q=null)):(F=null,q=C),F!==q)){if(V=ou,$="onMouseLeave",x="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(V=uu,$="onPointerLeave",x="onPointerEnter",S="pointer"),Re=F==null?N:Qr(F),O=q==null?N:Qr(q),N=new V($,S+"leave",F,i,I),N.target=Re,N.relatedTarget=O,$=null,kr(I)===C&&(V=new V(x,S+"enter",q,i,I),V.target=O,V.relatedTarget=Re,$=V),Re=$,F&&q)t:{for(V=F,x=q,S=0,O=V;O;O=Jr(O))S++;for(O=0,$=x;$;$=Jr($))O++;for(;0<S-O;)V=Jr(V),S--;for(;0<O-S;)x=Jr(x),O--;for(;S--;){if(V===x||x!==null&&V===x.alternate)break t;V=Jr(V),x=Jr(x)}V=null}else V=null;F!==null&&Lu(L,N,F,V,!1),q!==null&&Re!==null&&Lu(L,Re,q,V,!0)}}e:{if(N=C?Qr(C):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var K=Df;else if(mu(N))if(yu)K=Mf;else{K=$f;var J=Lf}else(F=N.nodeName)&&F.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(K=Uf);if(K&&(K=K(e,C))){gu(L,K,i,I);break e}J&&J(e,N,C),e==="focusout"&&(J=N._wrapperState)&&J.controlled&&N.type==="number"&&na(N,"number",N.value)}switch(J=C?Qr(C):window,e){case"focusin":(mu(J)||J.contentEditable==="true")&&(Kr=J,Na=C,Vn=null);break;case"focusout":Vn=Na=Kr=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,xu(L,i,I);break;case"selectionchange":if(Bf)break;case"keydown":case"keyup":xu(L,i,I)}var Y;if(Ca)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Vr?fu(e,i)&&(ee="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ee="onCompositionStart");ee&&(cu&&i.locale!=="ko"&&(Vr||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Vr&&(Y=iu()):(rr=I,Sa="value"in rr?rr.value:rr.textContent,Vr=!0)),J=Js(C,ee),0<J.length&&(ee=new lu(ee,e,null,i,I),L.push({event:ee,listeners:J}),Y?ee.data=Y:(Y=pu(i),Y!==null&&(ee.data=Y)))),(Y=Rf?jf(e,i):Nf(e,i))&&(C=Js(C,"onBeforeInput"),0<C.length&&(I=new lu("onBeforeInput","beforeinput",null,i,I),L.push({event:I,listeners:C}),I.data=Y))}Iu(L,t)})}function Jn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Js(e,t){for(var i=t+"Capture",o=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Rn(e,i),d!=null&&o.unshift(Jn(e,d,u)),d=Rn(e,t),d!=null&&o.push(Jn(e,d,u))),e=e.return}return o}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lu(e,t,i,o,u){for(var d=t._reactName,p=[];i!==null&&i!==o;){var v=i,_=v.alternate,C=v.stateNode;if(_!==null&&_===o)break;v.tag===5&&C!==null&&(v=C,u?(_=Rn(i,d),_!=null&&p.unshift(Jn(i,_,v))):u||(_=Rn(i,d),_!=null&&p.push(Jn(i,_,v)))),i=i.return}p.length!==0&&e.push({event:t,listeners:p})}var Vf=/\r\n?/g,Kf=/\u0000|\uFFFD/g;function $u(e){return(typeof e=="string"?e:""+e).replace(Vf,`
`).replace(Kf,"")}function Ys(e,t,i){if(t=$u(t),$u(e)!==t&&i)throw Error(n(425))}function Qs(){}var Ma=null,za=null;function Fa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ba=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Uu=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Uu<"u"?function(e){return Uu.resolve(null).then(e).catch(Yf)}:Ba;function Yf(e){setTimeout(function(){throw e})}function Wa(e,t){var i=t,o=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(o===0){e.removeChild(u),Mn(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=u}while(i);Mn(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),It="__reactFiber$"+Yr,Yn="__reactProps$"+Yr,Bt="__reactContainer$"+Yr,qa="__reactEvents$"+Yr,Qf="__reactListeners$"+Yr,Xf="__reactHandles$"+Yr;function kr(e){var t=e[It];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Bt]||i[It]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Mu(e);e!==null;){if(i=e[It])return i;e=Mu(e)}return t}e=i,i=e.parentNode}return null}function Qn(e){return e=e[It]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Xs(e){return e[Yn]||null}var Ha=[],Xr=-1;function ir(e){return{current:e}}function we(e){0>Xr||(e.current=Ha[Xr],Ha[Xr]=null,Xr--)}function ge(e,t){Xr++,Ha[Xr]=e.current,e.current=t}var ar={},Je=ir(ar),rt=ir(!1),Sr=ar;function Zr(e,t){var i=e.type.contextTypes;if(!i)return ar;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in i)u[d]=t[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function nt(e){return e=e.childContextTypes,e!=null}function Zs(){we(rt),we(Je)}function zu(e,t,i){if(Je.current!==ar)throw Error(n(168));ge(Je,t),ge(rt,i)}function Fu(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var u in o)if(!(u in t))throw Error(n(108,me(e)||"Unknown",u));return W({},i,o)}function ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Sr=Je.current,ge(Je,e),ge(rt,rt.current),!0}function Bu(e,t,i){var o=e.stateNode;if(!o)throw Error(n(169));i?(e=Fu(e,t,Sr),o.__reactInternalMemoizedMergedChildContext=e,we(rt),we(Je),ge(Je,e)):we(rt),ge(rt,i)}var Wt=null,ti=!1,Va=!1;function Wu(e){Wt===null?Wt=[e]:Wt.push(e)}function Zf(e){ti=!0,Wu(e)}function or(){if(!Va&&Wt!==null){Va=!0;var e=0,t=fe;try{var i=Wt;for(fe=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Wt=null,ti=!1}catch(u){throw Wt!==null&&(Wt=Wt.slice(e+1)),Hl(pa,or),u}finally{fe=t,Va=!1}}return null}var en=[],tn=0,ri=null,ni=0,mt=[],gt=0,br=null,qt=1,Ht="";function Er(e,t){en[tn++]=ni,en[tn++]=ri,ri=e,ni=t}function qu(e,t,i){mt[gt++]=qt,mt[gt++]=Ht,mt[gt++]=br,br=e;var o=qt;e=Ht;var u=32-St(o)-1;o&=~(1<<u),i+=1;var d=32-St(t)+u;if(30<d){var p=u-u%5;d=(o&(1<<p)-1).toString(32),o>>=p,u-=p,qt=1<<32-St(t)+u|i<<u|o,Ht=d+e}else qt=1<<d|i<<u|o,Ht=e}function Ka(e){e.return!==null&&(Er(e,1),qu(e,1,0))}function Ga(e){for(;e===ri;)ri=en[--tn],en[tn]=null,ni=en[--tn],en[tn]=null;for(;e===br;)br=mt[--gt],mt[gt]=null,Ht=mt[--gt],mt[gt]=null,qt=mt[--gt],mt[gt]=null}var ct=null,dt=null,ke=!1,Et=null;function Hu(e,t){var i=_t(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Vu(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=br!==null?{id:qt,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=_t(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ct=e,dt=null,!0):!1;default:return!1}}function Ja(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ya(e){if(ke){var t=dt;if(t){var i=t;if(!Vu(e,t)){if(Ja(e))throw Error(n(418));t=sr(i.nextSibling);var o=ct;t&&Vu(e,t)?Hu(o,i):(e.flags=e.flags&-4097|2,ke=!1,ct=e)}}else{if(Ja(e))throw Error(n(418));e.flags=e.flags&-4097|2,ke=!1,ct=e}}}function Ku(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function si(e){if(e!==ct)return!1;if(!ke)return Ku(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fa(e.type,e.memoizedProps)),t&&(t=dt)){if(Ja(e))throw Gu(),Error(n(418));for(;t;)Hu(e,t),t=sr(t.nextSibling)}if(Ku(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){dt=sr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?sr(e.stateNode.nextSibling):null;return!0}function Gu(){for(var e=dt;e;)e=sr(e.nextSibling)}function rn(){dt=ct=null,ke=!1}function Qa(e){Et===null?Et=[e]:Et.push(e)}var ep=H.ReactCurrentBatchConfig;function Xn(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,e));var u=o,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var v=u.refs;p===null?delete v[d]:v[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function ii(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ju(e){var t=e._init;return t(e._payload)}function Yu(e){function t(x,S){if(e){var O=x.deletions;O===null?(x.deletions=[S],x.flags|=16):O.push(S)}}function i(x,S){if(!e)return null;for(;S!==null;)t(x,S),S=S.sibling;return null}function o(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function u(x,S){return x=mr(x,S),x.index=0,x.sibling=null,x}function d(x,S,O){return x.index=O,e?(O=x.alternate,O!==null?(O=O.index,O<S?(x.flags|=2,S):O):(x.flags|=2,S)):(x.flags|=1048576,S)}function p(x){return e&&x.alternate===null&&(x.flags|=2),x}function v(x,S,O,$){return S===null||S.tag!==6?(S=Wo(O,x.mode,$),S.return=x,S):(S=u(S,O),S.return=x,S)}function _(x,S,O,$){var K=O.type;return K===ae?I(x,S,O.props.children,$,O.key):S!==null&&(S.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===tt&&Ju(K)===S.type)?($=u(S,O.props),$.ref=Xn(x,S,O),$.return=x,$):($=Pi(O.type,O.key,O.props,null,x.mode,$),$.ref=Xn(x,S,O),$.return=x,$)}function C(x,S,O,$){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=qo(O,x.mode,$),S.return=x,S):(S=u(S,O.children||[]),S.return=x,S)}function I(x,S,O,$,K){return S===null||S.tag!==7?(S=Nr(O,x.mode,$,K),S.return=x,S):(S=u(S,O),S.return=x,S)}function L(x,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Wo(""+S,x.mode,O),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case le:return O=Pi(S.type,S.key,S.props,null,x.mode,O),O.ref=Xn(x,null,S),O.return=x,O;case te:return S=qo(S,x.mode,O),S.return=x,S;case tt:var $=S._init;return L(x,$(S._payload),O)}if(On(S)||X(S))return S=Nr(S,x.mode,O,null),S.return=x,S;ii(x,S)}return null}function N(x,S,O,$){var K=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return K!==null?null:v(x,S,""+O,$);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case le:return O.key===K?_(x,S,O,$):null;case te:return O.key===K?C(x,S,O,$):null;case tt:return K=O._init,N(x,S,K(O._payload),$)}if(On(O)||X(O))return K!==null?null:I(x,S,O,$,null);ii(x,O)}return null}function F(x,S,O,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return x=x.get(O)||null,v(S,x,""+$,K);if(typeof $=="object"&&$!==null){switch($.$$typeof){case le:return x=x.get($.key===null?O:$.key)||null,_(S,x,$,K);case te:return x=x.get($.key===null?O:$.key)||null,C(S,x,$,K);case tt:var J=$._init;return F(x,S,O,J($._payload),K)}if(On($)||X($))return x=x.get(O)||null,I(S,x,$,K,null);ii(S,$)}return null}function q(x,S,O,$){for(var K=null,J=null,Y=S,ee=S=0,Fe=null;Y!==null&&ee<O.length;ee++){Y.index>ee?(Fe=Y,Y=null):Fe=Y.sibling;var de=N(x,Y,O[ee],$);if(de===null){Y===null&&(Y=Fe);break}e&&Y&&de.alternate===null&&t(x,Y),S=d(de,S,ee),J===null?K=de:J.sibling=de,J=de,Y=Fe}if(ee===O.length)return i(x,Y),ke&&Er(x,ee),K;if(Y===null){for(;ee<O.length;ee++)Y=L(x,O[ee],$),Y!==null&&(S=d(Y,S,ee),J===null?K=Y:J.sibling=Y,J=Y);return ke&&Er(x,ee),K}for(Y=o(x,Y);ee<O.length;ee++)Fe=F(Y,x,ee,O[ee],$),Fe!==null&&(e&&Fe.alternate!==null&&Y.delete(Fe.key===null?ee:Fe.key),S=d(Fe,S,ee),J===null?K=Fe:J.sibling=Fe,J=Fe);return e&&Y.forEach(function(gr){return t(x,gr)}),ke&&Er(x,ee),K}function V(x,S,O,$){var K=X(O);if(typeof K!="function")throw Error(n(150));if(O=K.call(O),O==null)throw Error(n(151));for(var J=K=null,Y=S,ee=S=0,Fe=null,de=O.next();Y!==null&&!de.done;ee++,de=O.next()){Y.index>ee?(Fe=Y,Y=null):Fe=Y.sibling;var gr=N(x,Y,de.value,$);if(gr===null){Y===null&&(Y=Fe);break}e&&Y&&gr.alternate===null&&t(x,Y),S=d(gr,S,ee),J===null?K=gr:J.sibling=gr,J=gr,Y=Fe}if(de.done)return i(x,Y),ke&&Er(x,ee),K;if(Y===null){for(;!de.done;ee++,de=O.next())de=L(x,de.value,$),de!==null&&(S=d(de,S,ee),J===null?K=de:J.sibling=de,J=de);return ke&&Er(x,ee),K}for(Y=o(x,Y);!de.done;ee++,de=O.next())de=F(Y,x,ee,de.value,$),de!==null&&(e&&de.alternate!==null&&Y.delete(de.key===null?ee:de.key),S=d(de,S,ee),J===null?K=de:J.sibling=de,J=de);return e&&Y.forEach(function(Ap){return t(x,Ap)}),ke&&Er(x,ee),K}function Re(x,S,O,$){if(typeof O=="object"&&O!==null&&O.type===ae&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case le:e:{for(var K=O.key,J=S;J!==null;){if(J.key===K){if(K=O.type,K===ae){if(J.tag===7){i(x,J.sibling),S=u(J,O.props.children),S.return=x,x=S;break e}}else if(J.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===tt&&Ju(K)===J.type){i(x,J.sibling),S=u(J,O.props),S.ref=Xn(x,J,O),S.return=x,x=S;break e}i(x,J);break}else t(x,J);J=J.sibling}O.type===ae?(S=Nr(O.props.children,x.mode,$,O.key),S.return=x,x=S):($=Pi(O.type,O.key,O.props,null,x.mode,$),$.ref=Xn(x,S,O),$.return=x,x=$)}return p(x);case te:e:{for(J=O.key;S!==null;){if(S.key===J)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){i(x,S.sibling),S=u(S,O.children||[]),S.return=x,x=S;break e}else{i(x,S);break}else t(x,S);S=S.sibling}S=qo(O,x.mode,$),S.return=x,x=S}return p(x);case tt:return J=O._init,Re(x,S,J(O._payload),$)}if(On(O))return q(x,S,O,$);if(X(O))return V(x,S,O,$);ii(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,S!==null&&S.tag===6?(i(x,S.sibling),S=u(S,O),S.return=x,x=S):(i(x,S),S=Wo(O,x.mode,$),S.return=x,x=S),p(x)):i(x,S)}return Re}var nn=Yu(!0),Qu=Yu(!1),ai=ir(null),oi=null,sn=null,Xa=null;function Za(){Xa=sn=oi=null}function eo(e){var t=ai.current;we(ai),e._currentValue=t}function to(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function an(e,t){oi=e,Xa=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(st=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Xa!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(oi===null)throw Error(n(308));sn=e,oi.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var xr=null;function ro(e){xr===null?xr=[e]:xr.push(e)}function Xu(e,t,i,o){var u=t.interleaved;return u===null?(i.next=i,ro(t)):(i.next=u.next,u.next=i),t.interleaved=i,Vt(e,o)}function Vt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var lr=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(oe&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,Vt(e,i)}return u=o.interleaved,u===null?(t.next=t,ro(o)):(t.next=u.next,u.next=t),o.interleaved=t,Vt(e,i)}function li(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,ya(e,i)}}function ec(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?u=d=p:d=d.next=p,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ui(e,t,i,o){var u=e.updateQueue;lr=!1;var d=u.firstBaseUpdate,p=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var _=v,C=_.next;_.next=null,p===null?d=C:p.next=C,p=_;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==p&&(v===null?I.firstBaseUpdate=C:v.next=C,I.lastBaseUpdate=_))}if(d!==null){var L=u.baseState;p=0,I=C=_=null,v=d;do{var N=v.lane,F=v.eventTime;if((o&N)===N){I!==null&&(I=I.next={eventTime:F,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var q=e,V=v;switch(N=t,F=i,V.tag){case 1:if(q=V.payload,typeof q=="function"){L=q.call(F,L,N);break e}L=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=V.payload,N=typeof q=="function"?q.call(F,L,N):q,N==null)break e;L=W({},L,N);break e;case 2:lr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,N=u.effects,N===null?u.effects=[v]:N.push(v))}else F={eventTime:F,lane:N,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(C=I=F,_=L):I=I.next=F,p|=N;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;N=v,v=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(I===null&&(_=L),u.baseState=_,u.firstBaseUpdate=C,u.lastBaseUpdate=I,t=u.shared.interleaved,t!==null){u=t;do p|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);Cr|=p,e.lanes=p,e.memoizedState=L}}function tc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],u=o.callback;if(u!==null){if(o.callback=null,o=i,typeof u!="function")throw Error(n(191,u));u.call(o)}}}var Zn={},Dt=ir(Zn),es=ir(Zn),ts=ir(Zn);function Tr(e){if(e===Zn)throw Error(n(174));return e}function so(e,t){switch(ge(ts,t),ge(es,e),ge(Dt,Zn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ia(t,e)}we(Dt),ge(Dt,t)}function on(){we(Dt),we(es),we(ts)}function rc(e){Tr(ts.current);var t=Tr(Dt.current),i=ia(t,e.type);t!==i&&(ge(es,e),ge(Dt,i))}function io(e){es.current===e&&(we(Dt),we(es))}var be=ir(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var di=H.ReactCurrentDispatcher,lo=H.ReactCurrentBatchConfig,Or=0,Ee=null,De=null,Me=null,hi=!1,rs=!1,ns=0,tp=0;function Ye(){throw Error(n(321))}function uo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!bt(e[i],t[i]))return!1;return!0}function co(e,t,i,o,u,d){if(Or=d,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=e===null||e.memoizedState===null?ip:ap,e=i(o,u),rs){d=0;do{if(rs=!1,ns=0,25<=d)throw Error(n(301));d+=1,Me=De=null,t.updateQueue=null,di.current=op,e=i(o,u)}while(rs)}if(di.current=mi,t=De!==null&&De.next!==null,Or=0,Me=De=Ee=null,hi=!1,t)throw Error(n(300));return e}function ho(){var e=ns!==0;return ns=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ee.memoizedState=Me=e:Me=Me.next=e,Me}function vt(){if(De===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Me===null?Ee.memoizedState:Me.next;if(t!==null)Me=t,De=e;else{if(e===null)throw Error(n(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Me===null?Ee.memoizedState=Me=e:Me=Me.next=e}return Me}function ss(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=vt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=De,u=o.baseQueue,d=i.pending;if(d!==null){if(u!==null){var p=u.next;u.next=d.next,d.next=p}o.baseQueue=u=d,i.pending=null}if(u!==null){d=u.next,o=o.baseState;var v=p=null,_=null,C=d;do{var I=C.lane;if((Or&I)===I)_!==null&&(_=_.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),o=C.hasEagerState?C.eagerState:e(o,C.action);else{var L={lane:I,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};_===null?(v=_=L,p=o):_=_.next=L,Ee.lanes|=I,Cr|=I}C=C.next}while(C!==null&&C!==d);_===null?p=o:_.next=v,bt(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseState=p,t.baseQueue=_,i.lastRenderedState=o}if(e=i.interleaved,e!==null){u=e;do d=u.lane,Ee.lanes|=d,Cr|=d,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function po(e){var t=vt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var p=u=u.next;do d=e(d,p.action),p=p.next;while(p!==u);bt(d,t.memoizedState)||(st=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,o]}function nc(){}function sc(e,t){var i=Ee,o=vt(),u=t(),d=!bt(o.memoizedState,u);if(d&&(o.memoizedState=u,st=!0),o=o.queue,mo(oc.bind(null,i,o,e),[e]),o.getSnapshot!==t||d||Me!==null&&Me.memoizedState.tag&1){if(i.flags|=2048,is(9,ac.bind(null,i,o,u,t),void 0,null),ze===null)throw Error(n(349));(Or&30)!==0||ic(i,t,u)}return u}function ic(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function ac(e,t,i,o){t.value=i,t.getSnapshot=o,lc(t)&&uc(e)}function oc(e,t,i){return i(function(){lc(t)&&uc(e)})}function lc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!bt(e,i)}catch{return!0}}function uc(e){var t=Vt(e,1);t!==null&&Ct(t,e,1,-1)}function cc(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=sp.bind(null,Ee,e),[t.memoizedState,e]}function is(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function dc(){return vt().memoizedState}function fi(e,t,i,o){var u=Lt();Ee.flags|=e,u.memoizedState=is(1|t,i,void 0,o===void 0?null:o)}function pi(e,t,i,o){var u=vt();o=o===void 0?null:o;var d=void 0;if(De!==null){var p=De.memoizedState;if(d=p.destroy,o!==null&&uo(o,p.deps)){u.memoizedState=is(t,i,d,o);return}}Ee.flags|=e,u.memoizedState=is(1|t,i,d,o)}function hc(e,t){return fi(8390656,8,e,t)}function mo(e,t){return pi(2048,8,e,t)}function fc(e,t){return pi(4,2,e,t)}function pc(e,t){return pi(4,4,e,t)}function mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gc(e,t,i){return i=i!=null?i.concat([e]):null,pi(4,4,mc.bind(null,t,e),i)}function go(){}function yc(e,t){var i=vt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&uo(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function vc(e,t){var i=vt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&uo(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function wc(e,t,i){return(Or&21)===0?(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=i):(bt(i,t)||(i=Jl(),Ee.lanes|=i,Cr|=i,e.baseState=!0),t)}function rp(e,t){var i=fe;fe=i!==0&&4>i?i:4,e(!0);var o=lo.transition;lo.transition={};try{e(!1),t()}finally{fe=i,lo.transition=o}}function _c(){return vt().memoizedState}function np(e,t,i){var o=fr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},kc(e))Sc(t,i);else if(i=Xu(e,t,i,o),i!==null){var u=et();Ct(i,e,o,u),bc(i,t,o)}}function sp(e,t,i){var o=fr(e),u={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(kc(e))Sc(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,v=d(p,i);if(u.hasEagerState=!0,u.eagerState=v,bt(v,p)){var _=t.interleaved;_===null?(u.next=u,ro(t)):(u.next=_.next,_.next=u),t.interleaved=u;return}}catch{}finally{}i=Xu(e,t,u,o),i!==null&&(u=et(),Ct(i,e,o,u),bc(i,t,o))}}function kc(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Sc(e,t){rs=hi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function bc(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,ya(e,i)}}var mi={readContext:yt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},ip={readContext:yt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:hc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,fi(4194308,4,mc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return fi(4,2,e,t)},useMemo:function(e,t){var i=Lt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Lt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=np.bind(null,Ee,e),[o.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:cc,useDebugValue:go,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=cc(!1),t=e[0];return e=rp.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Ee,u=Lt();if(ke){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),ze===null)throw Error(n(349));(Or&30)!==0||ic(o,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,hc(oc.bind(null,o,d,e),[e]),o.flags|=2048,is(9,ac.bind(null,o,d,i,t),void 0,null),i},useId:function(){var e=Lt(),t=ze.identifierPrefix;if(ke){var i=Ht,o=qt;i=(o&~(1<<32-St(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=ns++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=tp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ap={readContext:yt,useCallback:yc,useContext:yt,useEffect:mo,useImperativeHandle:gc,useInsertionEffect:fc,useLayoutEffect:pc,useMemo:vc,useReducer:fo,useRef:dc,useState:function(){return fo(ss)},useDebugValue:go,useDeferredValue:function(e){var t=vt();return wc(t,De.memoizedState,e)},useTransition:function(){var e=fo(ss)[0],t=vt().memoizedState;return[e,t]},useMutableSource:nc,useSyncExternalStore:sc,useId:_c,unstable_isNewReconciler:!1},op={readContext:yt,useCallback:yc,useContext:yt,useEffect:mo,useImperativeHandle:gc,useInsertionEffect:fc,useLayoutEffect:pc,useMemo:vc,useReducer:po,useRef:dc,useState:function(){return po(ss)},useDebugValue:go,useDeferredValue:function(e){var t=vt();return De===null?t.memoizedState=e:wc(t,De.memoizedState,e)},useTransition:function(){var e=po(ss)[0],t=vt().memoizedState;return[e,t]},useMutableSource:nc,useSyncExternalStore:sc,useId:_c,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function yo(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:W({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var gi={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=et(),u=fr(e),d=Kt(o,u);d.payload=t,i!=null&&(d.callback=i),t=ur(e,d,u),t!==null&&(Ct(t,e,u,o),li(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=et(),u=fr(e),d=Kt(o,u);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=ur(e,d,u),t!==null&&(Ct(t,e,u,o),li(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=et(),o=fr(e),u=Kt(i,o);u.tag=2,t!=null&&(u.callback=t),t=ur(e,u,o),t!==null&&(Ct(t,e,o,i),li(t,e,o))}};function Ec(e,t,i,o,u,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,p):t.prototype&&t.prototype.isPureReactComponent?!Hn(i,o)||!Hn(u,d):!0}function xc(e,t,i){var o=!1,u=ar,d=t.contextType;return typeof d=="object"&&d!==null?d=yt(d):(u=nt(t)?Sr:Je.current,o=t.contextTypes,d=(o=o!=null)?Zr(e,u):ar),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function Tc(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function vo(e,t,i,o){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},no(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=yt(d):(d=nt(t)?Sr:Je.current,u.context=Zr(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(yo(e,t,d,i),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&gi.enqueueReplaceState(u,u.state,null),ui(e,i,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var i="",o=t;do i+=ue(o),o=o.return;while(o);var u=i}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function wo(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function _o(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var lp=typeof WeakMap=="function"?WeakMap:Map;function Oc(e,t,i){i=Kt(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){bi||(bi=!0,Do=o),_o(e,t)},i}function Cc(e,t,i){i=Kt(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=t.value;i.payload=function(){return o(u)},i.callback=function(){_o(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){_o(e,t),typeof o!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),i}function Pc(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new lp;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(i)||(u.add(i),e=Sp.bind(null,e,t,i),t.then(e,e))}function Rc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jc(e,t,i,o,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Kt(-1,1),t.tag=2,ur(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var up=H.ReactCurrentOwner,st=!1;function Ze(e,t,i,o){t.child=e===null?Qu(t,null,i,o):nn(t,e.child,i,o)}function Nc(e,t,i,o,u){i=i.render;var d=t.ref;return an(t,u),o=co(e,t,i,o,d,u),i=ho(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Gt(e,t,u)):(ke&&i&&Ka(t),t.flags|=1,Ze(e,t,o,u),t.child)}function Ac(e,t,i,o,u){if(e===null){var d=i.type;return typeof d=="function"&&!Bo(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,Ic(e,t,d,o,u)):(e=Pi(i.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&u)===0){var p=d.memoizedProps;if(i=i.compare,i=i!==null?i:Hn,i(p,o)&&e.ref===t.ref)return Gt(e,t,u)}return t.flags|=1,e=mr(d,o),e.ref=t.ref,e.return=t,t.child=e}function Ic(e,t,i,o,u){if(e!==null){var d=e.memoizedProps;if(Hn(d,o)&&e.ref===t.ref)if(st=!1,t.pendingProps=o=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,Gt(e,t,u)}return ko(e,t,i,o,u)}function Dc(e,t,i){var o=t.pendingProps,u=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(cn,ht),ht|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(cn,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:i,ge(cn,ht),ht|=o}else d!==null?(o=d.baseLanes|i,t.memoizedState=null):o=i,ge(cn,ht),ht|=o;return Ze(e,t,u,i),t.child}function Lc(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,i,o,u){var d=nt(i)?Sr:Je.current;return d=Zr(t,d),an(t,u),i=co(e,t,i,o,d,u),o=ho(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Gt(e,t,u)):(ke&&o&&Ka(t),t.flags|=1,Ze(e,t,i,u),t.child)}function $c(e,t,i,o,u){if(nt(i)){var d=!0;ei(t)}else d=!1;if(an(t,u),t.stateNode===null)vi(e,t),xc(t,i,o),vo(t,i,o,u),o=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var _=p.context,C=i.contextType;typeof C=="object"&&C!==null?C=yt(C):(C=nt(i)?Sr:Je.current,C=Zr(t,C));var I=i.getDerivedStateFromProps,L=typeof I=="function"||typeof p.getSnapshotBeforeUpdate=="function";L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==o||_!==C)&&Tc(t,p,o,C),lr=!1;var N=t.memoizedState;p.state=N,ui(t,o,p,u),_=t.memoizedState,v!==o||N!==_||rt.current||lr?(typeof I=="function"&&(yo(t,i,I,o),_=t.memoizedState),(v=lr||Ec(t,i,v,o,N,_,C))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=_),p.props=o,p.state=_,p.context=C,o=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,Zu(e,t),v=t.memoizedProps,C=t.type===t.elementType?v:xt(t.type,v),p.props=C,L=t.pendingProps,N=p.context,_=i.contextType,typeof _=="object"&&_!==null?_=yt(_):(_=nt(i)?Sr:Je.current,_=Zr(t,_));var F=i.getDerivedStateFromProps;(I=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==L||N!==_)&&Tc(t,p,o,_),lr=!1,N=t.memoizedState,p.state=N,ui(t,o,p,u);var q=t.memoizedState;v!==L||N!==q||rt.current||lr?(typeof F=="function"&&(yo(t,i,F,o),q=t.memoizedState),(C=lr||Ec(t,i,C,o,N,q,_)||!1)?(I||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,q,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,q,_)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=q),p.props=o,p.state=q,p.context=_,o=C):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),o=!1)}return So(e,t,i,o,d,u)}function So(e,t,i,o,u,d){Lc(e,t);var p=(t.flags&128)!==0;if(!o&&!p)return u&&Bu(t,i,!1),Gt(e,t,d);o=t.stateNode,up.current=t;var v=p&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&p?(t.child=nn(t,e.child,null,d),t.child=nn(t,null,v,d)):Ze(e,t,v,d),t.memoizedState=o.state,u&&Bu(t,i,!0),t.child}function Uc(e){var t=e.stateNode;t.pendingContext?zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zu(e,t.context,!1),so(e,t.containerInfo)}function Mc(e,t,i,o,u){return rn(),Qa(u),t.flags|=256,Ze(e,t,i,o),t.child}var bo={dehydrated:null,treeContext:null,retryLane:0};function Eo(e){return{baseLanes:e,cachePool:null,transitions:null}}function zc(e,t,i){var o=t.pendingProps,u=be.current,d=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(u&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ge(be,u&1),e===null)return Ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=o.children,e=o.fallback,d?(o=t.mode,d=t.child,p={mode:"hidden",children:p},(o&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=Ri(p,o,0,null),e=Nr(e,o,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Eo(i),t.memoizedState=bo,e):xo(t,p));if(u=e.memoizedState,u!==null&&(v=u.dehydrated,v!==null))return cp(e,t,p,o,v,u,i);if(d){d=o.fallback,p=t.mode,u=e.child,v=u.sibling;var _={mode:"hidden",children:o.children};return(p&1)===0&&t.child!==u?(o=t.child,o.childLanes=0,o.pendingProps=_,t.deletions=null):(o=mr(u,_),o.subtreeFlags=u.subtreeFlags&14680064),v!==null?d=mr(v,d):(d=Nr(d,p,i,null),d.flags|=2),d.return=t,o.return=t,o.sibling=d,t.child=o,o=d,d=t.child,p=e.child.memoizedState,p=p===null?Eo(i):{baseLanes:p.baseLanes|i,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~i,t.memoizedState=bo,o}return d=e.child,e=d.sibling,o=mr(d,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function xo(e,t){return t=Ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yi(e,t,i,o){return o!==null&&Qa(o),nn(t,e.child,null,i),e=xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cp(e,t,i,o,u,d,p){if(i)return t.flags&256?(t.flags&=-257,o=wo(Error(n(422))),yi(e,t,p,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=o.fallback,u=t.mode,o=Ri({mode:"visible",children:o.children},u,0,null),d=Nr(d,u,p,null),d.flags|=2,o.return=t,d.return=t,o.sibling=d,t.child=o,(t.mode&1)!==0&&nn(t,e.child,null,p),t.child.memoizedState=Eo(p),t.memoizedState=bo,d);if((t.mode&1)===0)return yi(e,t,p,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var v=o.dgst;return o=v,d=Error(n(419)),o=wo(d,o,void 0),yi(e,t,p,o)}if(v=(p&e.childLanes)!==0,st||v){if(o=ze,o!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|p))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Vt(e,u),Ct(o,e,u,-1))}return Fo(),o=wo(Error(n(421))),yi(e,t,p,o)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=bp.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,dt=sr(u.nextSibling),ct=t,ke=!0,Et=null,e!==null&&(mt[gt++]=qt,mt[gt++]=Ht,mt[gt++]=br,qt=e.id,Ht=e.overflow,br=t),t=xo(t,o.children),t.flags|=4096,t)}function Fc(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),to(e.return,t,i)}function To(e,t,i,o,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=i,d.tailMode=u)}function Bc(e,t,i){var o=t.pendingProps,u=o.revealOrder,d=o.tail;if(Ze(e,t,o.children,i),o=be.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,i,t);else if(e.tag===19)Fc(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ge(be,o),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&ci(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),To(t,!1,u,i,d);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ci(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}To(t,!0,i,null,d);break;case"together":To(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=mr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=mr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function dp(e,t,i){switch(t.tag){case 3:Uc(t),rn();break;case 5:rc(t);break;case 1:nt(t.type)&&ei(t);break;case 4:so(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,u=t.memoizedProps.value;ge(ai,o._currentValue),o._currentValue=u;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ge(be,be.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?zc(e,t,i):(ge(be,be.current&1),e=Gt(e,t,i),e!==null?e.sibling:null);ge(be,be.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Bc(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ge(be,be.current),o)break;return null;case 22:case 23:return t.lanes=0,Dc(e,t,i)}return Gt(e,t,i)}var Wc,Oo,qc,Hc;Wc=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Oo=function(){},qc=function(e,t,i,o){var u=e.memoizedProps;if(u!==o){e=t.stateNode,Tr(Dt.current);var d=null;switch(i){case"input":u=ta(e,u),o=ta(e,o),d=[];break;case"select":u=W({},u,{value:void 0}),o=W({},o,{value:void 0}),d=[];break;case"textarea":u=sa(e,u),o=sa(e,o),d=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Qs)}aa(i,o);var p;i=null;for(C in u)if(!o.hasOwnProperty(C)&&u.hasOwnProperty(C)&&u[C]!=null)if(C==="style"){var v=u[C];for(p in v)v.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(l.hasOwnProperty(C)?d||(d=[]):(d=d||[]).push(C,null));for(C in o){var _=o[C];if(v=u!=null?u[C]:void 0,o.hasOwnProperty(C)&&_!==v&&(_!=null||v!=null))if(C==="style")if(v){for(p in v)!v.hasOwnProperty(p)||_&&_.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in _)_.hasOwnProperty(p)&&v[p]!==_[p]&&(i||(i={}),i[p]=_[p])}else i||(d||(d=[]),d.push(C,i)),i=_;else C==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(d=d||[]).push(C,_)):C==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(C,""+_):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(l.hasOwnProperty(C)?(_!=null&&C==="onScroll"&&ve("scroll",e),d||v===_||(d=[])):(d=d||[]).push(C,_))}i&&(d=d||[]).push("style",i);var C=d;(t.updateQueue=C)&&(t.flags|=4)}},Hc=function(e,t,i,o){i!==o&&(t.flags|=4)};function as(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function hp(e,t,i){var o=t.pendingProps;switch(Ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return nt(t.type)&&Zs(),Qe(t),null;case 3:return o=t.stateNode,on(),we(rt),we(Je),oo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Et!==null&&(Uo(Et),Et=null))),Oo(e,t),Qe(t),null;case 5:io(t);var u=Tr(ts.current);if(i=t.type,e!==null&&t.stateNode!=null)qc(e,t,i,o,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return Qe(t),null}if(e=Tr(Dt.current),si(t)){o=t.stateNode,i=t.type;var d=t.memoizedProps;switch(o[It]=t,o[Yn]=d,e=(t.mode&1)!==0,i){case"dialog":ve("cancel",o),ve("close",o);break;case"iframe":case"object":case"embed":ve("load",o);break;case"video":case"audio":for(u=0;u<Kn.length;u++)ve(Kn[u],o);break;case"source":ve("error",o);break;case"img":case"image":case"link":ve("error",o),ve("load",o);break;case"details":ve("toggle",o);break;case"input":xl(o,d),ve("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},ve("invalid",o);break;case"textarea":Cl(o,d),ve("invalid",o)}aa(i,d),u=null;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];p==="children"?typeof v=="string"?o.textContent!==v&&(d.suppressHydrationWarning!==!0&&Ys(o.textContent,v,e),u=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&Ys(o.textContent,v,e),u=["children",""+v]):l.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&ve("scroll",o)}switch(i){case"input":Os(o),Ol(o,d,!0);break;case"textarea":Os(o),Rl(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Qs)}o=u,t.updateQueue=o,o!==null&&(t.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jl(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(i,{is:o.is}):(e=p.createElement(i),i==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,i),e[It]=t,e[Yn]=o,Wc(e,t,!1,!1),t.stateNode=e;e:{switch(p=oa(i,o),i){case"dialog":ve("cancel",e),ve("close",e),u=o;break;case"iframe":case"object":case"embed":ve("load",e),u=o;break;case"video":case"audio":for(u=0;u<Kn.length;u++)ve(Kn[u],e);u=o;break;case"source":ve("error",e),u=o;break;case"img":case"image":case"link":ve("error",e),ve("load",e),u=o;break;case"details":ve("toggle",e),u=o;break;case"input":xl(e,o),u=ta(e,o),ve("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=W({},o,{value:void 0}),ve("invalid",e);break;case"textarea":Cl(e,o),u=sa(e,o),ve("invalid",e);break;default:u=o}aa(i,u),v=u;for(d in v)if(v.hasOwnProperty(d)){var _=v[d];d==="style"?Il(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Nl(e,_)):d==="children"?typeof _=="string"?(i!=="textarea"||_!=="")&&Cn(e,_):typeof _=="number"&&Cn(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?_!=null&&d==="onScroll"&&ve("scroll",e):_!=null&&D(e,d,_,p))}switch(i){case"input":Os(e),Ol(e,o,!1);break;case"textarea":Os(e),Rl(e);break;case"option":o.value!=null&&e.setAttribute("value",""+he(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?Fr(e,!!o.multiple,d,!1):o.defaultValue!=null&&Fr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Qs)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Hc(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(i=Tr(ts.current),Tr(Dt.current),si(t)){if(o=t.stateNode,i=t.memoizedProps,o[It]=t,(d=o.nodeValue!==i)&&(e=ct,e!==null))switch(e.tag){case 3:Ys(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(o.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[It]=t,t.stateNode=o}return Qe(t),null;case 13:if(we(be),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Gu(),rn(),t.flags|=98560,d=!1;else if(d=si(t),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(n(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[It]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),d=!1}else Et!==null&&(Uo(Et),Et=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?Le===0&&(Le=3):Fo())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return on(),Oo(e,t),e===null&&Gn(t.stateNode.containerInfo),Qe(t),null;case 10:return eo(t.type._context),Qe(t),null;case 17:return nt(t.type)&&Zs(),Qe(t),null;case 19:if(we(be),d=t.memoizedState,d===null)return Qe(t),null;if(o=(t.flags&128)!==0,p=d.rendering,p===null)if(o)as(d,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=ci(e),p!==null){for(t.flags|=128,as(d,!1),o=p.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)d=i,e=o,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ge(be,be.current&1|2),t.child}e=e.sibling}d.tail!==null&&Pe()>dn&&(t.flags|=128,o=!0,as(d,!1),t.lanes=4194304)}else{if(!o)if(e=ci(p),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),as(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!ke)return Qe(t),null}else 2*Pe()-d.renderingStartTime>dn&&i!==1073741824&&(t.flags|=128,o=!0,as(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(i=d.last,i!==null?i.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Pe(),t.sibling=null,i=be.current,ge(be,o?i&1|2:i&1),t):(Qe(t),null);case 22:case 23:return zo(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(ht&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function fp(e,t){switch(Ga(t),t.tag){case 1:return nt(t.type)&&Zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return on(),we(rt),we(Je),oo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return io(t),null;case 13:if(we(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(be),null;case 4:return on(),null;case 10:return eo(t.type._context),null;case 22:case 23:return zo(),null;case 24:return null;default:return null}}var wi=!1,Xe=!1,pp=typeof WeakSet=="function"?WeakSet:Set,B=null;function un(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Oe(e,t,o)}else i.current=null}function Co(e,t,i){try{i()}catch(o){Oe(e,t,o)}}var Vc=!1;function mp(e,t){if(Ma=Ms,e=Eu(),ja(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var u=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var p=0,v=-1,_=-1,C=0,I=0,L=e,N=null;t:for(;;){for(var F;L!==i||u!==0&&L.nodeType!==3||(v=p+u),L!==d||o!==0&&L.nodeType!==3||(_=p+o),L.nodeType===3&&(p+=L.nodeValue.length),(F=L.firstChild)!==null;)N=L,L=F;for(;;){if(L===e)break t;if(N===i&&++C===u&&(v=p),N===d&&++I===o&&(_=p),(F=L.nextSibling)!==null)break;L=N,N=L.parentNode}L=F}i=v===-1||_===-1?null:{start:v,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(za={focusedElem:e,selectionRange:i},Ms=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var V=q.memoizedProps,Re=q.memoizedState,x=t.stateNode,S=x.getSnapshotBeforeUpdate(t.elementType===t.type?V:xt(t.type,V),Re);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($){Oe(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return q=Vc,Vc=!1,q}function os(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&Co(t,i,d)}u=u.next}while(u!==o)}}function _i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Po(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Kc(e){var t=e.alternate;t!==null&&(e.alternate=null,Kc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Yn],delete t[qa],delete t[Qf],delete t[Xf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gc(e){return e.tag===5||e.tag===3||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ro(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Qs));else if(o!==4&&(e=e.child,e!==null))for(Ro(e,t,i),e=e.sibling;e!==null;)Ro(e,t,i),e=e.sibling}function jo(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(jo(e,t,i),e=e.sibling;e!==null;)jo(e,t,i),e=e.sibling}var qe=null,Tt=!1;function cr(e,t,i){for(i=i.child;i!==null;)Yc(e,t,i),i=i.sibling}function Yc(e,t,i){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(As,i)}catch{}switch(i.tag){case 5:Xe||un(i,t);case 6:var o=qe,u=Tt;qe=null,cr(e,t,i),qe=o,Tt=u,qe!==null&&(Tt?(e=qe,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):qe.removeChild(i.stateNode));break;case 18:qe!==null&&(Tt?(e=qe,i=i.stateNode,e.nodeType===8?Wa(e.parentNode,i):e.nodeType===1&&Wa(e,i),Mn(e)):Wa(qe,i.stateNode));break;case 4:o=qe,u=Tt,qe=i.stateNode.containerInfo,Tt=!0,cr(e,t,i),qe=o,Tt=u;break;case 0:case 11:case 14:case 15:if(!Xe&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var d=u,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&Co(i,t,p),u=u.next}while(u!==o)}cr(e,t,i);break;case 1:if(!Xe&&(un(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){Oe(i,t,v)}cr(e,t,i);break;case 21:cr(e,t,i);break;case 22:i.mode&1?(Xe=(o=Xe)||i.memoizedState!==null,cr(e,t,i),Xe=o):cr(e,t,i);break;default:cr(e,t,i)}}function Qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new pp),t.forEach(function(o){var u=Ep.bind(null,e,o);i.has(o)||(i.add(o),o.then(u,u))})}}function Ot(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];try{var d=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:qe=v.stateNode,Tt=!1;break e;case 3:qe=v.stateNode.containerInfo,Tt=!0;break e;case 4:qe=v.stateNode.containerInfo,Tt=!0;break e}v=v.return}if(qe===null)throw Error(n(160));Yc(d,p,u),qe=null,Tt=!1;var _=u.alternate;_!==null&&(_.return=null),u.return=null}catch(C){Oe(u,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xc(t,e),t=t.sibling}function Xc(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),$t(e),o&4){try{os(3,e,e.return),_i(3,e)}catch(V){Oe(e,e.return,V)}try{os(5,e,e.return)}catch(V){Oe(e,e.return,V)}}break;case 1:Ot(t,e),$t(e),o&512&&i!==null&&un(i,i.return);break;case 5:if(Ot(t,e),$t(e),o&512&&i!==null&&un(i,i.return),e.flags&32){var u=e.stateNode;try{Cn(u,"")}catch(V){Oe(e,e.return,V)}}if(o&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,p=i!==null?i.memoizedProps:d,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&Tl(u,d),oa(v,p);var C=oa(v,d);for(p=0;p<_.length;p+=2){var I=_[p],L=_[p+1];I==="style"?Il(u,L):I==="dangerouslySetInnerHTML"?Nl(u,L):I==="children"?Cn(u,L):D(u,I,L,C)}switch(v){case"input":ra(u,d);break;case"textarea":Pl(u,d);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?Fr(u,!!d.multiple,F,!1):N!==!!d.multiple&&(d.defaultValue!=null?Fr(u,!!d.multiple,d.defaultValue,!0):Fr(u,!!d.multiple,d.multiple?[]:"",!1))}u[Yn]=d}catch(V){Oe(e,e.return,V)}}break;case 6:if(Ot(t,e),$t(e),o&4){if(e.stateNode===null)throw Error(n(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(V){Oe(e,e.return,V)}}break;case 3:if(Ot(t,e),$t(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Mn(t.containerInfo)}catch(V){Oe(e,e.return,V)}break;case 4:Ot(t,e),$t(e);break;case 13:Ot(t,e),$t(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Io=Pe())),o&4&&Qc(e);break;case 22:if(I=i!==null&&i.memoizedState!==null,e.mode&1?(Xe=(C=Xe)||I,Ot(t,e),Xe=C):Ot(t,e),$t(e),o&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!I&&(e.mode&1)!==0)for(B=e,I=e.child;I!==null;){for(L=B=I;B!==null;){switch(N=B,F=N.child,N.tag){case 0:case 11:case 14:case 15:os(4,N,N.return);break;case 1:un(N,N.return);var q=N.stateNode;if(typeof q.componentWillUnmount=="function"){o=N,i=N.return;try{t=o,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(V){Oe(o,i,V)}}break;case 5:un(N,N.return);break;case 22:if(N.memoizedState!==null){td(L);continue}}F!==null?(F.return=N,B=F):td(L)}I=I.sibling}e:for(I=null,L=e;;){if(L.tag===5){if(I===null){I=L;try{u=L.stateNode,C?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=L.stateNode,_=L.memoizedProps.style,p=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=Al("display",p))}catch(V){Oe(e,e.return,V)}}}else if(L.tag===6){if(I===null)try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(V){Oe(e,e.return,V)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;I===L&&(I=null),L=L.return}I===L&&(I=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:Ot(t,e),$t(e),o&4&&Qc(e);break;case 21:break;default:Ot(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Gc(i)){var o=i;break e}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(Cn(u,""),o.flags&=-33);var d=Jc(e);jo(e,d,u);break;case 3:case 4:var p=o.stateNode.containerInfo,v=Jc(e);Ro(e,v,p);break;default:throw Error(n(161))}}catch(_){Oe(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gp(e,t,i){B=e,Zc(e)}function Zc(e,t,i){for(var o=(e.mode&1)!==0;B!==null;){var u=B,d=u.child;if(u.tag===22&&o){var p=u.memoizedState!==null||wi;if(!p){var v=u.alternate,_=v!==null&&v.memoizedState!==null||Xe;v=wi;var C=Xe;if(wi=p,(Xe=_)&&!C)for(B=u;B!==null;)p=B,_=p.child,p.tag===22&&p.memoizedState!==null?rd(u):_!==null?(_.return=p,B=_):rd(u);for(;d!==null;)B=d,Zc(d),d=d.sibling;B=u,wi=v,Xe=C}ed(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,B=d):ed(e)}}function ed(e){for(;B!==null;){var t=B;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Xe||_i(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Xe)if(i===null)o.componentDidMount();else{var u=t.elementType===t.type?i.memoizedProps:xt(t.type,i.memoizedProps);o.componentDidUpdate(u,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&tc(t,d,o);break;case 3:var p=t.updateQueue;if(p!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}tc(t,p,i)}break;case 5:var v=t.stateNode;if(i===null&&t.flags&4){i=v;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&i.focus();break;case"img":_.src&&(i.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var I=C.memoizedState;if(I!==null){var L=I.dehydrated;L!==null&&Mn(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xe||t.flags&512&&Po(t)}catch(N){Oe(t,t.return,N)}}if(t===e){B=null;break}if(i=t.sibling,i!==null){i.return=t.return,B=i;break}B=t.return}}function td(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var i=t.sibling;if(i!==null){i.return=t.return,B=i;break}B=t.return}}function rd(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{_i(4,t)}catch(_){Oe(t,i,_)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var u=t.return;try{o.componentDidMount()}catch(_){Oe(t,u,_)}}var d=t.return;try{Po(t)}catch(_){Oe(t,d,_)}break;case 5:var p=t.return;try{Po(t)}catch(_){Oe(t,p,_)}}}catch(_){Oe(t,t.return,_)}if(t===e){B=null;break}var v=t.sibling;if(v!==null){v.return=t.return,B=v;break}B=t.return}}var yp=Math.ceil,ki=H.ReactCurrentDispatcher,No=H.ReactCurrentOwner,wt=H.ReactCurrentBatchConfig,oe=0,ze=null,Ne=null,He=0,ht=0,cn=ir(0),Le=0,ls=null,Cr=0,Si=0,Ao=0,us=null,it=null,Io=0,dn=1/0,Jt=null,bi=!1,Do=null,dr=null,Ei=!1,hr=null,xi=0,cs=0,Lo=null,Ti=-1,Oi=0;function et(){return(oe&6)!==0?Pe():Ti!==-1?Ti:Ti=Pe()}function fr(e){return(e.mode&1)===0?1:(oe&2)!==0&&He!==0?He&-He:ep.transition!==null?(Oi===0&&(Oi=Jl()),Oi):(e=fe,e!==0||(e=window.event,e=e===void 0?16:su(e.type)),e)}function Ct(e,t,i,o){if(50<cs)throw cs=0,Lo=null,Error(n(185));In(e,i,o),((oe&2)===0||e!==ze)&&(e===ze&&((oe&2)===0&&(Si|=i),Le===4&&pr(e,He)),at(e,o),i===1&&oe===0&&(t.mode&1)===0&&(dn=Pe()+500,ti&&or()))}function at(e,t){var i=e.callbackNode;Zh(e,t);var o=Ls(e,e===ze?He:0);if(o===0)i!==null&&Vl(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Vl(i),t===1)e.tag===0?Zf(sd.bind(null,e)):Wu(sd.bind(null,e)),Jf(function(){(oe&6)===0&&or()}),i=null;else{switch(Yl(o)){case 1:i=pa;break;case 4:i=Kl;break;case 16:i=Ns;break;case 536870912:i=Gl;break;default:i=Ns}i=hd(i,nd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function nd(e,t){if(Ti=-1,Oi=0,(oe&6)!==0)throw Error(n(327));var i=e.callbackNode;if(hn()&&e.callbackNode!==i)return null;var o=Ls(e,e===ze?He:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Ci(e,o);else{t=o;var u=oe;oe|=2;var d=ad();(ze!==e||He!==t)&&(Jt=null,dn=Pe()+500,Rr(e,t));do try{_p();break}catch(v){id(e,v)}while(!0);Za(),ki.current=d,oe=u,Ne!==null?t=0:(ze=null,He=0,t=Le)}if(t!==0){if(t===2&&(u=ma(e),u!==0&&(o=u,t=$o(e,u))),t===1)throw i=ls,Rr(e,0),pr(e,o),at(e,Pe()),i;if(t===6)pr(e,o);else{if(u=e.current.alternate,(o&30)===0&&!vp(u)&&(t=Ci(e,o),t===2&&(d=ma(e),d!==0&&(o=d,t=$o(e,d))),t===1))throw i=ls,Rr(e,0),pr(e,o),at(e,Pe()),i;switch(e.finishedWork=u,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:jr(e,it,Jt);break;case 3:if(pr(e,o),(o&130023424)===o&&(t=Io+500-Pe(),10<t)){if(Ls(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){et(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ba(jr.bind(null,e,it,Jt),t);break}jr(e,it,Jt);break;case 4:if(pr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,u=-1;0<o;){var p=31-St(o);d=1<<p,p=t[p],p>u&&(u=p),o&=~d}if(o=u,o=Pe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*yp(o/1960))-o,10<o){e.timeoutHandle=Ba(jr.bind(null,e,it,Jt),o);break}jr(e,it,Jt);break;case 5:jr(e,it,Jt);break;default:throw Error(n(329))}}}return at(e,Pe()),e.callbackNode===i?nd.bind(null,e):null}function $o(e,t){var i=us;return e.current.memoizedState.isDehydrated&&(Rr(e,t).flags|=256),e=Ci(e,t),e!==2&&(t=it,it=i,t!==null&&Uo(t)),e}function Uo(e){it===null?it=e:it.push.apply(it,e)}function vp(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var u=i[o],d=u.getSnapshot;u=u.value;try{if(!bt(d(),u))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~Ao,t&=~Si,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-St(t),o=1<<i;e[i]=-1,t&=~o}}function sd(e){if((oe&6)!==0)throw Error(n(327));hn();var t=Ls(e,0);if((t&1)===0)return at(e,Pe()),null;var i=Ci(e,t);if(e.tag!==0&&i===2){var o=ma(e);o!==0&&(t=o,i=$o(e,o))}if(i===1)throw i=ls,Rr(e,0),pr(e,t),at(e,Pe()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,it,Jt),at(e,Pe()),null}function Mo(e,t){var i=oe;oe|=1;try{return e(t)}finally{oe=i,oe===0&&(dn=Pe()+500,ti&&or())}}function Pr(e){hr!==null&&hr.tag===0&&(oe&6)===0&&hn();var t=oe;oe|=1;var i=wt.transition,o=fe;try{if(wt.transition=null,fe=1,e)return e()}finally{fe=o,wt.transition=i,oe=t,(oe&6)===0&&or()}}function zo(){ht=cn.current,we(cn)}function Rr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Ne!==null)for(i=Ne.return;i!==null;){var o=i;switch(Ga(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Zs();break;case 3:on(),we(rt),we(Je),oo();break;case 5:io(o);break;case 4:on();break;case 13:we(be);break;case 19:we(be);break;case 10:eo(o.type._context);break;case 22:case 23:zo()}i=i.return}if(ze=e,Ne=e=mr(e.current,null),He=ht=t,Le=0,ls=null,Ao=Si=Cr=0,it=us=null,xr!==null){for(t=0;t<xr.length;t++)if(i=xr[t],o=i.interleaved,o!==null){i.interleaved=null;var u=o.next,d=i.pending;if(d!==null){var p=d.next;d.next=u,o.next=p}i.pending=o}xr=null}return e}function id(e,t){do{var i=Ne;try{if(Za(),di.current=mi,hi){for(var o=Ee.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}hi=!1}if(Or=0,Me=De=Ee=null,rs=!1,ns=0,No.current=null,i===null||i.return===null){Le=1,ls=t,Ne=null;break}e:{var d=e,p=i.return,v=i,_=t;if(t=He,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var C=_,I=v,L=I.tag;if((I.mode&1)===0&&(L===0||L===11||L===15)){var N=I.alternate;N?(I.updateQueue=N.updateQueue,I.memoizedState=N.memoizedState,I.lanes=N.lanes):(I.updateQueue=null,I.memoizedState=null)}var F=Rc(p);if(F!==null){F.flags&=-257,jc(F,p,v,d,t),F.mode&1&&Pc(d,C,t),t=F,_=C;var q=t.updateQueue;if(q===null){var V=new Set;V.add(_),t.updateQueue=V}else q.add(_);break e}else{if((t&1)===0){Pc(d,C,t),Fo();break e}_=Error(n(426))}}else if(ke&&v.mode&1){var Re=Rc(p);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),jc(Re,p,v,d,t),Qa(ln(_,v));break e}}d=_=ln(_,v),Le!==4&&(Le=2),us===null?us=[d]:us.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var x=Oc(d,_,t);ec(d,x);break e;case 1:v=_;var S=d.type,O=d.stateNode;if((d.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(dr===null||!dr.has(O)))){d.flags|=65536,t&=-t,d.lanes|=t;var $=Cc(d,v,t);ec(d,$);break e}}d=d.return}while(d!==null)}ld(i)}catch(K){t=K,Ne===i&&i!==null&&(Ne=i=i.return);continue}break}while(!0)}function ad(){var e=ki.current;return ki.current=mi,e===null?mi:e}function Fo(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||(Cr&268435455)===0&&(Si&268435455)===0||pr(ze,He)}function Ci(e,t){var i=oe;oe|=2;var o=ad();(ze!==e||He!==t)&&(Jt=null,Rr(e,t));do try{wp();break}catch(u){id(e,u)}while(!0);if(Za(),oe=i,ki.current=o,Ne!==null)throw Error(n(261));return ze=null,He=0,Le}function wp(){for(;Ne!==null;)od(Ne)}function _p(){for(;Ne!==null&&!qh();)od(Ne)}function od(e){var t=dd(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?ld(e):Ne=t,No.current=null}function ld(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=hp(i,t,ht),i!==null){Ne=i;return}}else{if(i=fp(i,t),i!==null){i.flags&=32767,Ne=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ne=null;return}}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Le===0&&(Le=5)}function jr(e,t,i){var o=fe,u=wt.transition;try{wt.transition=null,fe=1,kp(e,t,i,o)}finally{wt.transition=u,fe=o}return null}function kp(e,t,i,o){do hn();while(hr!==null);if((oe&6)!==0)throw Error(n(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(ef(e,d),e===ze&&(Ne=ze=null,He=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ei||(Ei=!0,hd(Ns,function(){return hn(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=wt.transition,wt.transition=null;var p=fe;fe=1;var v=oe;oe|=4,No.current=null,mp(e,i),Xc(i,e),Ff(za),Ms=!!Ma,za=Ma=null,e.current=i,gp(i),Hh(),oe=v,fe=p,wt.transition=d}else e.current=i;if(Ei&&(Ei=!1,hr=e,xi=u),d=e.pendingLanes,d===0&&(dr=null),Gh(i.stateNode),at(e,Pe()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)u=t[i],o(u.value,{componentStack:u.stack,digest:u.digest});if(bi)throw bi=!1,e=Do,Do=null,e;return(xi&1)!==0&&e.tag!==0&&hn(),d=e.pendingLanes,(d&1)!==0?e===Lo?cs++:(cs=0,Lo=e):cs=0,or(),null}function hn(){if(hr!==null){var e=Yl(xi),t=wt.transition,i=fe;try{if(wt.transition=null,fe=16>e?16:e,hr===null)var o=!1;else{if(e=hr,hr=null,xi=0,(oe&6)!==0)throw Error(n(331));var u=oe;for(oe|=4,B=e.current;B!==null;){var d=B,p=d.child;if((B.flags&16)!==0){var v=d.deletions;if(v!==null){for(var _=0;_<v.length;_++){var C=v[_];for(B=C;B!==null;){var I=B;switch(I.tag){case 0:case 11:case 15:os(8,I,d)}var L=I.child;if(L!==null)L.return=I,B=L;else for(;B!==null;){I=B;var N=I.sibling,F=I.return;if(Kc(I),I===C){B=null;break}if(N!==null){N.return=F,B=N;break}B=F}}}var q=d.alternate;if(q!==null){var V=q.child;if(V!==null){q.child=null;do{var Re=V.sibling;V.sibling=null,V=Re}while(V!==null)}}B=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,B=p;else e:for(;B!==null;){if(d=B,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:os(9,d,d.return)}var x=d.sibling;if(x!==null){x.return=d.return,B=x;break e}B=d.return}}var S=e.current;for(B=S;B!==null;){p=B;var O=p.child;if((p.subtreeFlags&2064)!==0&&O!==null)O.return=p,B=O;else e:for(p=S;B!==null;){if(v=B,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:_i(9,v)}}catch(K){Oe(v,v.return,K)}if(v===p){B=null;break e}var $=v.sibling;if($!==null){$.return=v.return,B=$;break e}B=v.return}}if(oe=u,or(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(As,e)}catch{}o=!0}return o}finally{fe=i,wt.transition=t}}return!1}function ud(e,t,i){t=ln(i,t),t=Oc(e,t,1),e=ur(e,t,1),t=et(),e!==null&&(In(e,1,t),at(e,t))}function Oe(e,t,i){if(e.tag===3)ud(e,e,i);else for(;t!==null;){if(t.tag===3){ud(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){e=ln(i,e),e=Cc(t,e,1),t=ur(t,e,1),e=et(),t!==null&&(In(t,1,e),at(t,e));break}}t=t.return}}function Sp(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&i,ze===e&&(He&i)===i&&(Le===4||Le===3&&(He&130023424)===He&&500>Pe()-Io?Rr(e,0):Ao|=i),at(e,t)}function cd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ds,Ds<<=1,(Ds&130023424)===0&&(Ds=4194304)));var i=et();e=Vt(e,t),e!==null&&(In(e,t,i),at(e,i))}function bp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),cd(e,i)}function Ep(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),cd(e,i)}var dd;dd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)st=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return st=!1,dp(e,t,i);st=(e.flags&131072)!==0}else st=!1,ke&&(t.flags&1048576)!==0&&qu(t,ni,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;vi(e,t),e=t.pendingProps;var u=Zr(t,Je.current);an(t,i),u=co(null,t,o,e,u,i);var d=ho();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(o)?(d=!0,ei(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,no(t),u.updater=gi,t.stateNode=u,u._reactInternals=t,vo(t,o,e,i),t=So(null,t,o,!0,d,i)):(t.tag=0,ke&&d&&Ka(t),Ze(null,t,u,i),t=t.child),t;case 16:o=t.elementType;e:{switch(vi(e,t),e=t.pendingProps,u=o._init,o=u(o._payload),t.type=o,u=t.tag=Tp(o),e=xt(o,e),u){case 0:t=ko(null,t,o,e,i);break e;case 1:t=$c(null,t,o,e,i);break e;case 11:t=Nc(null,t,o,e,i);break e;case 14:t=Ac(null,t,o,xt(o.type,e),i);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:xt(o,u),ko(e,t,o,u,i);case 1:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:xt(o,u),$c(e,t,o,u,i);case 3:e:{if(Uc(t),e===null)throw Error(n(387));o=t.pendingProps,d=t.memoizedState,u=d.element,Zu(e,t),ui(t,o,null,i);var p=t.memoizedState;if(o=p.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=ln(Error(n(423)),t),t=Mc(e,t,o,i,u);break e}else if(o!==u){u=ln(Error(n(424)),t),t=Mc(e,t,o,i,u);break e}else for(dt=sr(t.stateNode.containerInfo.firstChild),ct=t,ke=!0,Et=null,i=Qu(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(rn(),o===u){t=Gt(e,t,i);break e}Ze(e,t,o,i)}t=t.child}return t;case 5:return rc(t),e===null&&Ya(t),o=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,p=u.children,Fa(o,u)?p=null:d!==null&&Fa(o,d)&&(t.flags|=32),Lc(e,t),Ze(e,t,p,i),t.child;case 6:return e===null&&Ya(t),null;case 13:return zc(e,t,i);case 4:return so(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=nn(t,null,o,i):Ze(e,t,o,i),t.child;case 11:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:xt(o,u),Nc(e,t,o,u,i);case 7:return Ze(e,t,t.pendingProps,i),t.child;case 8:return Ze(e,t,t.pendingProps.children,i),t.child;case 12:return Ze(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,u=t.pendingProps,d=t.memoizedProps,p=u.value,ge(ai,o._currentValue),o._currentValue=p,d!==null)if(bt(d.value,p)){if(d.children===u.children&&!rt.current){t=Gt(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){p=d.child;for(var _=v.firstContext;_!==null;){if(_.context===o){if(d.tag===1){_=Kt(-1,i&-i),_.tag=2;var C=d.updateQueue;if(C!==null){C=C.shared;var I=C.pending;I===null?_.next=_:(_.next=I.next,I.next=_),C.pending=_}}d.lanes|=i,_=d.alternate,_!==null&&(_.lanes|=i),to(d.return,i,t),v.lanes|=i;break}_=_.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(n(341));p.lanes|=i,v=p.alternate,v!==null&&(v.lanes|=i),to(p,i,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Ze(e,t,u.children,i),t=t.child}return t;case 9:return u=t.type,o=t.pendingProps.children,an(t,i),u=yt(u),o=o(u),t.flags|=1,Ze(e,t,o,i),t.child;case 14:return o=t.type,u=xt(o,t.pendingProps),u=xt(o.type,u),Ac(e,t,o,u,i);case 15:return Ic(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:xt(o,u),vi(e,t),t.tag=1,nt(o)?(e=!0,ei(t)):e=!1,an(t,i),xc(t,o,u),vo(t,o,u,i),So(null,t,o,!0,e,i);case 19:return Bc(e,t,i);case 22:return Dc(e,t,i)}throw Error(n(156,t.tag))};function hd(e,t){return Hl(e,t)}function xp(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,i,o){return new xp(e,t,i,o)}function Bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tp(e){if(typeof e=="function")return Bo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ie)return 11;if(e===Nt)return 14}return 2}function mr(e,t){var i=e.alternate;return i===null?(i=_t(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Pi(e,t,i,o,u,d){var p=2;if(o=e,typeof e=="function")Bo(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ae:return Nr(i.children,u,d,t);case Se:p=8,u|=8;break;case je:return e=_t(12,i,t,u|2),e.elementType=je,e.lanes=d,e;case We:return e=_t(13,i,t,u),e.elementType=We,e.lanes=d,e;case kt:return e=_t(19,i,t,u),e.elementType=kt,e.lanes=d,e;case Te:return Ri(i,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:p=10;break e;case Be:p=9;break e;case Ie:p=11;break e;case Nt:p=14;break e;case tt:p=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=_t(p,i,t,u),t.elementType=e,t.type=o,t.lanes=d,t}function Nr(e,t,i,o){return e=_t(7,e,o,t),e.lanes=i,e}function Ri(e,t,i,o){return e=_t(22,e,o,t),e.elementType=Te,e.lanes=i,e.stateNode={isHidden:!1},e}function Wo(e,t,i){return e=_t(6,e,null,t),e.lanes=i,e}function qo(e,t,i){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Op(e,t,i,o,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ga(0),this.expirationTimes=ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Ho(e,t,i,o,u,d,p,v,_){return e=new Op(e,t,i,v,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=_t(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(d),e}function Cp(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function fd(e){if(!e)return ar;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(nt(i))return Fu(e,i,t)}return t}function pd(e,t,i,o,u,d,p,v,_){return e=Ho(i,o,!0,e,u,d,p,v,_),e.context=fd(null),i=e.current,o=et(),u=fr(i),d=Kt(o,u),d.callback=t??null,ur(i,d,u),e.current.lanes=u,In(e,u,o),at(e,o),e}function ji(e,t,i,o){var u=t.current,d=et(),p=fr(u);return i=fd(i),t.context===null?t.context=i:t.pendingContext=i,t=Kt(d,p),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ur(u,t,p),e!==null&&(Ct(e,u,p,d),li(e,u,p)),p}function Ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Vo(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function Pp(){return null}var gd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ko(e){this._internalRoot=e}Ai.prototype.render=Ko.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));ji(e,t,null,null)},Ai.prototype.unmount=Ko.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){ji(null,e,null,null)}),t[Bt]=null}};function Ai(e){this._internalRoot=e}Ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zl();e={blockedOn:null,target:e,priority:t};for(var i=0;i<tr.length&&t!==0&&t<tr[i].priority;i++);tr.splice(i,0,e),i===0&&ru(e)}};function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yd(){}function Rp(e,t,i,o,u){if(u){if(typeof o=="function"){var d=o;o=function(){var C=Ni(p);d.call(C)}}var p=pd(t,o,e,0,null,!1,!1,"",yd);return e._reactRootContainer=p,e[Bt]=p.current,Gn(e.nodeType===8?e.parentNode:e),Pr(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var v=o;o=function(){var C=Ni(_);v.call(C)}}var _=Ho(e,0,!1,null,null,!1,!1,"",yd);return e._reactRootContainer=_,e[Bt]=_.current,Gn(e.nodeType===8?e.parentNode:e),Pr(function(){ji(t,_,i,o)}),_}function Di(e,t,i,o,u){var d=i._reactRootContainer;if(d){var p=d;if(typeof u=="function"){var v=u;u=function(){var _=Ni(p);v.call(_)}}ji(t,p,e,u)}else p=Rp(i,t,e,u,o);return Ni(p)}Ql=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=An(t.pendingLanes);i!==0&&(ya(t,i|1),at(t,Pe()),(oe&6)===0&&(dn=Pe()+500,or()))}break;case 13:Pr(function(){var o=Vt(e,1);if(o!==null){var u=et();Ct(o,e,1,u)}}),Vo(e,1)}},va=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var i=et();Ct(t,e,134217728,i)}Vo(e,134217728)}},Xl=function(e){if(e.tag===13){var t=fr(e),i=Vt(e,t);if(i!==null){var o=et();Ct(i,e,t,o)}Vo(e,t)}},Zl=function(){return fe},eu=function(e,t){var i=fe;try{return fe=e,t()}finally{fe=i}},ca=function(e,t,i){switch(t){case"input":if(ra(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var u=Xs(o);if(!u)throw Error(n(90));El(o),ra(o,u)}}}break;case"textarea":Pl(e,i);break;case"select":t=i.value,t!=null&&Fr(e,!!i.multiple,t,!1)}},Ul=Mo,Ml=Pr;var jp={usingClientEntryPoint:!1,Events:[Qn,Qr,Xs,Ll,$l,Mo]},ds={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Np={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wl(e),e===null?null:e.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||Pp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{As=Li.inject(Np),At=Li}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jp,ot.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Go(t))throw Error(n(200));return Cp(e,t,null,i)},ot.createRoot=function(e,t){if(!Go(e))throw Error(n(299));var i=!1,o="",u=gd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Ho(e,1,!1,null,null,i,!1,o,u),e[Bt]=t.current,Gn(e.nodeType===8?e.parentNode:e),new Ko(t)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Wl(t),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return Pr(e)},ot.hydrate=function(e,t,i){if(!Ii(t))throw Error(n(200));return Di(null,e,t,!0,i)},ot.hydrateRoot=function(e,t,i){if(!Go(e))throw Error(n(405));var o=i!=null&&i.hydratedSources||null,u=!1,d="",p=gd;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),t=pd(t,null,e,1,i??null,u,!1,d,p),e[Bt]=t.current,Gn(e),o)for(e=0;e<o.length;e++)i=o[e],u=i._getVersion,u=u(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,u]:t.mutableSourceEagerHydrationData.push(i,u);return new Ai(t)},ot.render=function(e,t,i){if(!Ii(t))throw Error(n(200));return Di(null,e,t,!1,i)},ot.unmountComponentAtNode=function(e){if(!Ii(e))throw Error(n(40));return e._reactRootContainer?(Pr(function(){Di(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1},ot.unstable_batchedUpdates=Mo,ot.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Ii(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Di(e,t,i,!1,o)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var xd;function Fp(){if(xd)return Qo.exports;xd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Qo.exports=zp(),Qo.exports}var Td;function Bp(){if(Td)return $i;Td=1;var s=Fp();return $i.createRoot=s.createRoot,$i.hydrateRoot=s.hydrateRoot,$i}var Wp=Bp();const qp=oh(Wp),lh=6048e5,Hp=864e5,uh=6e4,ch=36e5,Od=Symbol.for("constructDateFrom");function zt(s,r){return typeof s=="function"?s(r):s&&typeof s=="object"&&Od in s?s[Od](r):s instanceof Date?new s.constructor(r):new Date(r)}function Ge(s,r){return zt(r||s,s)}function ll(s,r,n){const a=Ge(s,n==null?void 0:n.in);return isNaN(r)?zt(s,NaN):(r&&a.setDate(a.getDate()+r),a)}let Vp={};function Yi(){return Vp}function vs(s,r){var f,m,g,y;const n=Yi(),a=(r==null?void 0:r.weekStartsOn)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Ge(s,r==null?void 0:r.in),c=l.getDay(),h=(c<a?7:0)+c-a;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function Vi(s,r){return vs(s,{...r,weekStartsOn:1})}function dh(s,r){const n=Ge(s,r==null?void 0:r.in),a=n.getFullYear(),l=zt(n,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const c=Vi(l),h=zt(n,0);h.setFullYear(a,0,4),h.setHours(0,0,0,0);const f=Vi(h);return n.getTime()>=c.getTime()?a+1:n.getTime()>=f.getTime()?a:a-1}function Cd(s){const r=Ge(s),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+s-+n}function hh(s,...r){const n=zt.bind(null,r.find(a=>typeof a=="object"));return r.map(n)}function zr(s,r){const n=Ge(s,r==null?void 0:r.in);return n.setHours(0,0,0,0),n}function Kp(s,r,n){const[a,l]=hh(n==null?void 0:n.in,s,r),c=zr(a),h=zr(l),f=+c-Cd(c),m=+h-Cd(h);return Math.round((f-m)/Hp)}function Gp(s,r){const n=dh(s,r),a=zt(s,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Vi(a)}function ul(s,r,n){const[a,l]=hh(n==null?void 0:n.in,s,r);return+zr(a)==+zr(l)}function Jp(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Yp(s){return!(!Jp(s)&&typeof s!="number"||isNaN(+Ge(s)))}function Qp(s,r){const n=Ge(s,r==null?void 0:r.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Xp={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zp=(s,r,n)=>{let a;const l=Xp[s];return typeof l=="string"?a=l:r===1?a=l.one:a=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function En(s){return(r={})=>{const n=r.width?String(r.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const em={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nm={date:En({formats:em,defaultWidth:"full"}),time:En({formats:tm,defaultWidth:"full"}),dateTime:En({formats:rm,defaultWidth:"full"})},sm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},im=(s,r,n,a)=>sm[s];function Ut(s){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let l;if(a==="formatting"&&s.formattingValues){const h=s.defaultFormattingWidth||s.defaultWidth,f=n!=null&&n.width?String(n.width):h;l=s.formattingValues[f]||s.formattingValues[h]}else{const h=s.defaultWidth,f=n!=null&&n.width?String(n.width):s.defaultWidth;l=s.values[f]||s.values[h]}const c=s.argumentCallback?s.argumentCallback(r):r;return l[c]}}const am={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},om={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},um={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hm=(s,r)=>{const n=Number(s),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fm={ordinalNumber:hm,era:Ut({values:am,defaultWidth:"wide"}),quarter:Ut({values:om,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Ut({values:lm,defaultWidth:"wide"}),day:Ut({values:um,defaultWidth:"wide"}),dayPeriod:Ut({values:cm,defaultWidth:"wide",formattingValues:dm,defaultFormattingWidth:"wide"})};function Mt(s){return(r,n={})=>{const a=n.width,l=a&&s.matchPatterns[a]||s.matchPatterns[s.defaultMatchWidth],c=r.match(l);if(!c)return null;const h=c[0],f=a&&s.parsePatterns[a]||s.parsePatterns[s.defaultParseWidth],m=Array.isArray(f)?mm(f,k=>k.test(h)):pm(f,k=>k.test(h));let g;g=s.valueCallback?s.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=r.slice(h.length);return{value:g,rest:y}}}function pm(s,r){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&r(s[n]))return n}function mm(s,r){for(let n=0;n<s.length;n++)if(r(s[n]))return n}function fh(s){return(r,n={})=>{const a=r.match(s.matchPattern);if(!a)return null;const l=a[0],c=r.match(s.parsePattern);if(!c)return null;let h=s.valueCallback?s.valueCallback(c[0]):c[0];h=n.valueCallback?n.valueCallback(h):h;const f=r.slice(l.length);return{value:h,rest:f}}}const gm=/^(\d+)(th|st|nd|rd)?/i,ym=/\d+/i,vm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wm={any:[/^b/i,/^(a|c)/i]},_m={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},km={any:[/1/i,/2/i,/3/i,/4/i]},Sm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Em={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xm={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Om={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cm={ordinalNumber:fh({matchPattern:gm,parsePattern:ym,valueCallback:s=>parseInt(s,10)}),era:Mt({matchPatterns:vm,defaultMatchWidth:"wide",parsePatterns:wm,defaultParseWidth:"any"}),quarter:Mt({matchPatterns:_m,defaultMatchWidth:"wide",parsePatterns:km,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Mt({matchPatterns:Sm,defaultMatchWidth:"wide",parsePatterns:bm,defaultParseWidth:"any"}),day:Mt({matchPatterns:Em,defaultMatchWidth:"wide",parsePatterns:xm,defaultParseWidth:"any"}),dayPeriod:Mt({matchPatterns:Tm,defaultMatchWidth:"any",parsePatterns:Om,defaultParseWidth:"any"})},Pm={code:"en-US",formatDistance:Zp,formatLong:nm,formatRelative:im,localize:fm,match:Cm,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rm(s,r){const n=Ge(s,r==null?void 0:r.in);return Kp(n,Qp(n))+1}function jm(s,r){const n=Ge(s,r==null?void 0:r.in),a=+Vi(n)-+Gp(n);return Math.round(a/lh)+1}function ph(s,r){var y,k,w,b;const n=Ge(s,r==null?void 0:r.in),a=n.getFullYear(),l=Yi(),c=(r==null?void 0:r.firstWeekContainsDate)??((k=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)??l.firstWeekContainsDate??((b=(w=l.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,h=zt((r==null?void 0:r.in)||s,0);h.setFullYear(a+1,0,c),h.setHours(0,0,0,0);const f=vs(h,r),m=zt((r==null?void 0:r.in)||s,0);m.setFullYear(a,0,c),m.setHours(0,0,0,0);const g=vs(m,r);return+n>=+f?a+1:+n>=+g?a:a-1}function Nm(s,r){var f,m,g,y;const n=Yi(),a=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,l=ph(s,r),c=zt((r==null?void 0:r.in)||s,0);return c.setFullYear(l,0,a),c.setHours(0,0,0,0),vs(c,r)}function Am(s,r){const n=Ge(s,r==null?void 0:r.in),a=+vs(n,r)-+Nm(n,r);return Math.round(a/lh)+1}function pe(s,r){const n=s<0?"-":"",a=Math.abs(s).toString().padStart(r,"0");return n+a}const yr={y(s,r){const n=s.getFullYear(),a=n>0?n:1-n;return pe(r==="yy"?a%100:a,r.length)},M(s,r){const n=s.getMonth();return r==="M"?String(n+1):pe(n+1,2)},d(s,r){return pe(s.getDate(),r.length)},a(s,r){const n=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(s,r){return pe(s.getHours()%12||12,r.length)},H(s,r){return pe(s.getHours(),r.length)},m(s,r){return pe(s.getMinutes(),r.length)},s(s,r){return pe(s.getSeconds(),r.length)},S(s,r){const n=r.length,a=s.getMilliseconds(),l=Math.trunc(a*Math.pow(10,n-3));return pe(l,r.length)}},fn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pd={G:function(s,r,n){const a=s.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(s,r,n){if(r==="yo"){const a=s.getFullYear(),l=a>0?a:1-a;return n.ordinalNumber(l,{unit:"year"})}return yr.y(s,r)},Y:function(s,r,n,a){const l=ph(s,a),c=l>0?l:1-l;if(r==="YY"){const h=c%100;return pe(h,2)}return r==="Yo"?n.ordinalNumber(c,{unit:"year"}):pe(c,r.length)},R:function(s,r){const n=dh(s);return pe(n,r.length)},u:function(s,r){const n=s.getFullYear();return pe(n,r.length)},Q:function(s,r,n){const a=Math.ceil((s.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return pe(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(s,r,n){const a=Math.ceil((s.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return pe(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(s,r,n){const a=s.getMonth();switch(r){case"M":case"MM":return yr.M(s,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(s,r,n){const a=s.getMonth();switch(r){case"L":return String(a+1);case"LL":return pe(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(s,r,n,a){const l=Am(s,a);return r==="wo"?n.ordinalNumber(l,{unit:"week"}):pe(l,r.length)},I:function(s,r,n){const a=jm(s);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):pe(a,r.length)},d:function(s,r,n){return r==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):yr.d(s,r)},D:function(s,r,n){const a=Rm(s);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):pe(a,r.length)},E:function(s,r,n){const a=s.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(s,r,n,a){const l=s.getDay(),c=(l-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return pe(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(s,r,n,a){const l=s.getDay(),c=(l-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return pe(c,r.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(s,r,n){const a=s.getDay(),l=a===0?7:a;switch(r){case"i":return String(l);case"ii":return pe(l,r.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(s,r,n){const l=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(s,r,n){const a=s.getHours();let l;switch(a===12?l=fn.noon:a===0?l=fn.midnight:l=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(s,r,n){const a=s.getHours();let l;switch(a>=17?l=fn.evening:a>=12?l=fn.afternoon:a>=4?l=fn.morning:l=fn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(s,r,n){if(r==="ho"){let a=s.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return yr.h(s,r)},H:function(s,r,n){return r==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):yr.H(s,r)},K:function(s,r,n){const a=s.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):pe(a,r.length)},k:function(s,r,n){let a=s.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):pe(a,r.length)},m:function(s,r,n){return r==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):yr.m(s,r)},s:function(s,r,n){return r==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):yr.s(s,r)},S:function(s,r){return yr.S(s,r)},X:function(s,r,n){const a=s.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return jd(a);case"XXXX":case"XX":return Dr(a);case"XXXXX":case"XXX":default:return Dr(a,":")}},x:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"x":return jd(a);case"xxxx":case"xx":return Dr(a);case"xxxxx":case"xxx":default:return Dr(a,":")}},O:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Rd(a,":");case"OOOO":default:return"GMT"+Dr(a,":")}},z:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Rd(a,":");case"zzzz":default:return"GMT"+Dr(a,":")}},t:function(s,r,n){const a=Math.trunc(+s/1e3);return pe(a,r.length)},T:function(s,r,n){return pe(+s,r.length)}};function Rd(s,r=""){const n=s>0?"-":"+",a=Math.abs(s),l=Math.trunc(a/60),c=a%60;return c===0?n+String(l):n+String(l)+r+pe(c,2)}function jd(s,r){return s%60===0?(s>0?"-":"+")+pe(Math.abs(s)/60,2):Dr(s,r)}function Dr(s,r=""){const n=s>0?"-":"+",a=Math.abs(s),l=pe(Math.trunc(a/60),2),c=pe(a%60,2);return n+l+r+c}const Nd=(s,r)=>{switch(s){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},mh=(s,r)=>{switch(s){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Im=(s,r)=>{const n=s.match(/(P+)(p+)?/)||[],a=n[1],l=n[2];if(!l)return Nd(s,r);let c;switch(a){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",Nd(a,r)).replace("{{time}}",mh(l,r))},Dm={p:mh,P:Im},Lm=/^D+$/,$m=/^Y+$/,Um=["D","DD","YY","YYYY"];function Mm(s){return Lm.test(s)}function zm(s){return $m.test(s)}function Fm(s,r,n){const a=Bm(s,r,n);if(console.warn(a),Um.includes(s))throw new RangeError(a)}function Bm(s,r,n){const a=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wm=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hm=/^'([^]*?)'?$/,Vm=/''/g,Km=/[a-zA-Z]/;function Ad(s,r,n){var y,k,w,b,T,P,j,M;const a=Yi(),l=(n==null?void 0:n.locale)??a.locale??Pm,c=(n==null?void 0:n.firstWeekContainsDate)??((k=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)??a.firstWeekContainsDate??((b=(w=a.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,h=(n==null?void 0:n.weekStartsOn)??((P=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:P.weekStartsOn)??a.weekStartsOn??((M=(j=a.locale)==null?void 0:j.options)==null?void 0:M.weekStartsOn)??0,f=Ge(s,n==null?void 0:n.in);if(!Yp(f))throw new RangeError("Invalid time value");let m=r.match(qm).map(U=>{const D=U[0];if(D==="p"||D==="P"){const H=Dm[D];return H(U,l.formatLong)}return U}).join("").match(Wm).map(U=>{if(U==="''")return{isToken:!1,value:"'"};const D=U[0];if(D==="'")return{isToken:!1,value:Gm(U)};if(Pd[D])return{isToken:!0,value:U};if(D.match(Km))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:U}});l.localize.preprocessor&&(m=l.localize.preprocessor(f,m));const g={firstWeekContainsDate:c,weekStartsOn:h,locale:l};return m.map(U=>{if(!U.isToken)return U.value;const D=U.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&zm(D)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Mm(D))&&Fm(D,r,String(s));const H=Pd[D[0]];return H(f,D,l.localize,g)}).join("")}function Gm(s){const r=s.match(Hm);return r?r[1].replace(Vm,"'"):s}function Jm(s,r){return Ge(s,r==null?void 0:r.in).getDay()}function Ym(s,r){return+Ge(s)<+Ge(r)}function Id(s,r){const n=()=>zt(r==null?void 0:r.in,NaN),l=eg(s);let c;if(l.date){const g=tg(l.date,2);c=rg(g.restDateString,g.year)}if(!c||isNaN(+c))return n();const h=+c;let f=0,m;if(l.time&&(f=ng(l.time),isNaN(f)))return n();if(l.timezone){if(m=sg(l.timezone),isNaN(m))return n()}else{const g=new Date(h+f),y=Ge(0,r==null?void 0:r.in);return y.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),y.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),y}return Ge(h+f+m,r==null?void 0:r.in)}const Ui={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Qm=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xm=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Zm=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eg(s){const r={},n=s.split(Ui.dateTimeDelimiter);let a;if(n.length>2)return r;if(/:/.test(n[0])?a=n[0]:(r.date=n[0],a=n[1],Ui.timeZoneDelimiter.test(r.date)&&(r.date=s.split(Ui.timeZoneDelimiter)[0],a=s.substr(r.date.length,s.length))),a){const l=Ui.timezone.exec(a);l?(r.time=a.replace(l[1],""),r.timezone=l[1]):r.time=a}return r}function tg(s,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=s.match(n);if(!a)return{year:NaN,restDateString:""};const l=a[1]?parseInt(a[1]):null,c=a[2]?parseInt(a[2]):null;return{year:c===null?l:c*100,restDateString:s.slice((a[1]||a[2]).length)}}function rg(s,r){if(r===null)return new Date(NaN);const n=s.match(Qm);if(!n)return new Date(NaN);const a=!!n[4],l=fs(n[1]),c=fs(n[2])-1,h=fs(n[3]),f=fs(n[4]),m=fs(n[5])-1;if(a)return ug(r,f,m)?ig(r,f,m):new Date(NaN);{const g=new Date(0);return!og(r,c,h)||!lg(r,l)?new Date(NaN):(g.setUTCFullYear(r,c,Math.max(l,h)),g)}}function fs(s){return s?parseInt(s):1}function ng(s){const r=s.match(Xm);if(!r)return NaN;const n=el(r[1]),a=el(r[2]),l=el(r[3]);return cg(n,a,l)?n*ch+a*uh+l*1e3:NaN}function el(s){return s&&parseFloat(s.replace(",","."))||0}function sg(s){if(s==="Z")return 0;const r=s.match(Zm);if(!r)return 0;const n=r[1]==="+"?-1:1,a=parseInt(r[2]),l=r[3]&&parseInt(r[3])||0;return dg(a,l)?n*(a*ch+l*uh):NaN}function ig(s,r,n){const a=new Date(0);a.setUTCFullYear(s,0,4);const l=a.getUTCDay()||7,c=(r-1)*7+n+1-l;return a.setUTCDate(a.getUTCDate()+c),a}const ag=[31,null,31,30,31,30,31,31,30,31,30,31];function gh(s){return s%400===0||s%4===0&&s%100!==0}function og(s,r,n){return r>=0&&r<=11&&n>=1&&n<=(ag[r]||(gh(s)?29:28))}function lg(s,r){return r>=1&&r<=(gh(s)?366:365)}function ug(s,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function cg(s,r,n){return s===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&s>=0&&s<25}function dg(s,r){return r>=0&&r<=59}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yh=(...s)=>s.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=re.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:h,...f},m)=>re.createElement("svg",{ref:m,...fg,width:r,height:r,stroke:s,strokeWidth:a?Number(n)*24/Number(r):n,className:yh("lucide",l),...f},[...h.map(([g,y])=>re.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(s,r)=>{const n=re.forwardRef(({className:a,...l},c)=>re.createElement(pg,{ref:c,iconNode:r,className:yh(`lucide-${hg(s)}`,a),...l}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gg=Ft("Calendar",mg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vg=Ft("Check",yg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_g=Ft("CircleCheckBig",wg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sg=Ft("Circle",kg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vh=Ft("Plus",bg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],wh=Ft("Repeat",Eg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tg=Ft("Settings",xg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Dd=Ft("ShoppingCart",Og);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kl=Ft("Trash2",Cg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_h=Ft("X",Pg),Rg=({isOpen:s,onClose:r,recurringTasks:n,onAdd:a,onDelete:l})=>{const[c,h]=re.useState(""),[f,m]=re.useState("daily"),[g,y]=re.useState([]);if(!s)return null;const k=[{label:"D",value:0},{label:"L",value:1},{label:"M",value:2},{label:"M",value:3},{label:"J",value:4},{label:"V",value:5},{label:"S",value:6}],w=T=>{g.includes(T)?y(g.filter(P=>P!==T)):y([...g,T])},b=T=>{T.preventDefault(),c.trim()&&(a(c.trim(),f,f==="weekly"?g:[]),h(""),y([]),m("daily"))};return R.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/90 backdrop-blur-sm animate-in fade-in duration-200",children:R.jsxs("div",{className:"w-full max-w-md bg-[#0a0a0a] rounded-t-2xl sm:rounded-2xl p-6 shadow-2xl border border-white/10 h-[85vh] flex flex-col",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsxs("h2",{className:"text-xl font-bold text-neutral-100 flex items-center",children:[R.jsx(wh,{className:"mr-2 text-orange-500"}),"Tareas Recurrentes"]}),R.jsx("button",{onClick:r,className:"p-2 text-neutral-500 hover:text-neutral-300 rounded-full hover:bg-white/5",children:R.jsx(_h,{size:24})})]}),R.jsxs("form",{onSubmit:b,className:"mb-8 p-4 bg-neutral-900/50 rounded-xl border border-white/5",children:[R.jsx("input",{type:"text",value:c,onChange:T=>h(T.target.value),placeholder:"Nueva rutina (ej: Sacar basura)",className:"w-full bg-transparent border-b border-neutral-700 text-white placeholder-neutral-500 py-2 mb-4 focus:outline-none focus:border-orange-500"}),R.jsxs("div",{className:"flex gap-2 mb-4",children:[R.jsx("button",{type:"button",onClick:()=>m("daily"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f==="daily"?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"text-neutral-400 hover:bg-white/5"}`,children:"Diario"}),R.jsx("button",{type:"button",onClick:()=>m("weekly"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f==="weekly"?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"text-neutral-400 hover:bg-white/5"}`,children:"Semanal"})]}),f==="weekly"&&R.jsx("div",{className:"flex justify-between mb-4",children:k.map(T=>R.jsx("button",{type:"button",onClick:()=>w(T.value),className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all ${g.includes(T.value)?"bg-orange-500 text-white shadow-lg shadow-orange-900/50":"bg-neutral-800 text-neutral-500 hover:bg-neutral-700"}`,children:T.label},T.value))}),R.jsxs("button",{type:"submit",disabled:!c.trim()||f==="weekly"&&g.length===0,className:"w-full bg-neutral-800 hover:bg-neutral-700 text-white py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[R.jsx(vh,{size:16,className:"mr-2"}),"Agregar Rutina"]})]}),R.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:n.length===0?R.jsx("div",{className:"text-center py-10 text-neutral-600",children:R.jsx("p",{children:"No tienes tareas recurrentes configuradas."})}):n.map(T=>R.jsxs("div",{className:"flex justify-between items-center p-3 bg-neutral-900/30 rounded-lg border border-white/5 group",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-neutral-200 font-medium",children:T.text}),R.jsx("p",{className:"text-xs text-neutral-500 flex items-center mt-1",children:T.frequency==="daily"?R.jsx("span",{className:"text-orange-400",children:"Todos los das"}):R.jsxs("span",{children:["Semanal: ",T.days.map(P=>{var j;return(j=k.find(M=>M.value===P))==null?void 0:j.label}).join(", ")]})})]}),R.jsx("button",{onClick:()=>l(T.id),className:"p-2 text-neutral-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:R.jsx(kl,{size:16})})]},T.id))})]})})},jg=({children:s})=>R.jsx("div",{className:"min-h-screen bg-[#050505] text-white font-sans selection:bg-orange-500 selection:text-white",children:R.jsx("div",{className:"mx-auto max-w-md min-h-screen relative pb-20",children:s})}),Ng=({names:s,greeting:r="Hola"})=>{const n=new Date().getHours();let a=r;return r==="Hola"&&(n<12?a="Buenos das":n<18?a="Buenas tardes":a="Buenas noches"),R.jsxs("div",{className:"mb-0 pt-6 px-4",children:[R.jsxs("h1",{className:"text-3xl font-bold text-neutral-100 tracking-tight",children:[a,","]}),R.jsx("p",{className:"text-xl text-primary font-medium",children:s})]})},Ag=({tasks:s,onToggle:r,onDelete:n})=>s.length===0?R.jsx("div",{className:"text-center py-8 text-gray-400",children:R.jsx("p",{children:"No hay tareas pendientes"})}):R.jsxs("div",{className:"space-y-3 px-4 mb-8",children:[R.jsx("h2",{className:"text-sm font-medium text-neutral-500 uppercase tracking-wider mb-3 ml-1",children:"Tareas"}),s.map(a=>R.jsxs("div",{className:`relative flex items-center justify-between p-4 rounded-2xl border transition-all ${a.completed?"bg-neutral-900/50 border-neutral-900 opacity-60":a.isRecurring?"bg-neutral-800/80 border-orange-500/30 hover:border-orange-500/50 shadow-lg shadow-orange-900/10":"bg-secondary border-white/5 hover:border-white/10"}`,children:[a.isRecurring&&!a.completed&&R.jsx("div",{className:"absolute -left-[1px] top-1/2 -translate-y-1/2 w-1 h-[60%] bg-orange-500 rounded-r-full shadow-[0_0_8px_rgba(249,115,22,0.4)]"}),R.jsxs("button",{onClick:()=>r(a.id),className:"flex items-center flex-1 text-left group pl-1",children:[R.jsx("span",{className:`mr-4 flex-shrink-0 transition-colors ${a.completed?"text-green-500":"text-neutral-600 group-hover:text-primary"}`,children:a.completed?R.jsx(_g,{size:22,className:"text-primary"}):R.jsx(Sg,{size:22})}),R.jsxs("div",{className:"flex flex-col",children:[R.jsx("span",{className:`text-base font-medium transition-all ${a.completed?"text-neutral-500 line-through decoration-neutral-700":"text-neutral-200"}`,children:a.text}),a.isRecurring&&R.jsxs("span",{className:"text-[10px] text-orange-400/80 uppercase tracking-wider font-bold flex items-center mt-0.5",children:[R.jsx(wh,{size:10,className:"mr-1"}),"Rutina"]})]})]}),R.jsx("button",{onClick:()=>n(a.id),className:"text-neutral-600 hover:text-red-400 p-2 transition-colors ml-2","aria-label":"Eliminar tarea",children:R.jsx(kl,{size:18})})]},a.id))]}),Ig=({items:s,onToggle:r,onDelete:n})=>s.length===0?R.jsxs("div",{className:"text-center py-8 text-neutral-600 border border-dashed border-neutral-800 rounded-xl mx-4",children:[R.jsx(Dd,{className:"mx-auto mb-2 opacity-50",size:24}),R.jsx("p",{children:"Lista de compras vaca"})]}):R.jsxs("div",{className:"space-y-2 px-4 mb-24",children:[R.jsxs("h2",{className:"text-sm font-medium text-neutral-500 uppercase tracking-wider mb-2 ml-1 flex items-center",children:[R.jsx(Dd,{className:"mr-2",size:16}),"Lista de Compras"]}),R.jsx("div",{className:"bg-secondary rounded-2xl p-4 border border-white/5",children:s.map(a=>R.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-white/5 last:border-0",children:[R.jsxs("button",{onClick:()=>r(a.id),className:"flex items-center flex-1 text-left group",children:[R.jsx("div",{className:`w-5 h-5 rounded border mr-3 flex items-center justify-center transition-colors ${a.completed?"bg-orange-500 border-orange-500":"border-neutral-600 bg-transparent group-hover:border-primary"}`,children:a.completed&&R.jsx("span",{className:"text-white text-xs font-bold",children:""})}),R.jsx("span",{className:`text-base ${a.completed?"text-neutral-500 line-through":"text-neutral-200"}`,children:a.text})]}),R.jsx("button",{onClick:()=>n(a.id),className:"text-neutral-600 hover:text-orange-500 p-2 transition-colors ml-2","aria-label":"Eliminar item",children:R.jsx(kl,{size:18})})]},a.id))})]}),Dg=({onClick:s})=>R.jsx("button",{onClick:s,className:"fixed bottom-6 right-6 w-14 h-14 bg-primary rounded-full shadow-lg flex items-center justify-center text-white hover:bg-opacity-90 transition-all hover:scale-105 active:scale-95 z-50","aria-label":"Agregar tarea",children:R.jsx(vh,{size:28})}),Lg={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},$g=(s,r,n)=>{let a;const l=Lg[s];return typeof l=="string"?a=l:r===1?a=l.one:a=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+a:"hace "+a:a},Ug={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Mg={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},zg={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fg={date:En({formats:Ug,defaultWidth:"full"}),time:En({formats:Mg,defaultWidth:"full"}),dateTime:En({formats:zg,defaultWidth:"full"})},Bg={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Wg={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},qg=(s,r,n,a)=>r.getHours()!==1?Wg[s]:Bg[s],Hg={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Vg={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Kg={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Gg={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Jg={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Yg={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Qg=(s,r)=>Number(s)+"",Xg={ordinalNumber:Qg,era:Ut({values:Hg,defaultWidth:"wide"}),quarter:Ut({values:Vg,defaultWidth:"wide",argumentCallback:s=>Number(s)-1}),month:Ut({values:Kg,defaultWidth:"wide"}),day:Ut({values:Gg,defaultWidth:"wide"}),dayPeriod:Ut({values:Jg,defaultWidth:"wide",formattingValues:Yg,defaultFormattingWidth:"wide"})},Zg=/^(\d+)()?/i,ey=/\d+/i,ty={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},ry={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},ny={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},sy={any:[/1/i,/2/i,/3/i,/4/i]},iy={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},ay={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},oy={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},ly={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},uy={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},cy={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},dy={ordinalNumber:fh({matchPattern:Zg,parsePattern:ey,valueCallback:function(s){return parseInt(s,10)}}),era:Mt({matchPatterns:ty,defaultMatchWidth:"wide",parsePatterns:ry,defaultParseWidth:"any"}),quarter:Mt({matchPatterns:ny,defaultMatchWidth:"wide",parsePatterns:sy,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Mt({matchPatterns:iy,defaultMatchWidth:"wide",parsePatterns:ay,defaultParseWidth:"any"}),day:Mt({matchPatterns:oy,defaultMatchWidth:"wide",parsePatterns:ly,defaultParseWidth:"any"}),dayPeriod:Mt({matchPatterns:uy,defaultMatchWidth:"any",parsePatterns:cy,defaultParseWidth:"any"})},hy={code:"es",formatDistance:$g,formatLong:Fg,formatRelative:qg,localize:Xg,match:dy,options:{weekStartsOn:1,firstWeekContainsDate:1}},fy=({isOpen:s,onClose:r,onAdd:n})=>{const[a,l]=re.useState(""),[c,h]=re.useState("task"),[f,m]=re.useState(0),g=re.useRef(null);re.useEffect(()=>{s&&g.current&&g.current.focus(),s||(l(""),h("task"),m(0))},[s]);const y=w=>{if(w.preventDefault(),a.trim()){const b=ll(new Date,f);n(c,a.trim(),b),l("")}},k=[{label:"Hoy",value:0},{label:"Maana",value:1},{label:"Pasado",value:2}];return s?R.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:R.jsxs("div",{className:"w-full max-w-md bg-[#0a0a0a] rounded-t-2xl sm:rounded-2xl p-6 shadow-2xl border border-white/10 transform transition-transform animate-in slide-in-from-bottom duration-300",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsx("h2",{className:"text-xl font-bold text-neutral-100",children:"Nuevo Item"}),R.jsx("button",{onClick:r,className:"p-2 text-neutral-500 hover:text-neutral-300 rounded-full hover:bg-white/5",children:R.jsx(_h,{size:24})})]}),R.jsxs("form",{onSubmit:y,className:"space-y-6",children:[R.jsxs("div",{className:"flex p-1 bg-secondary rounded-xl border border-white/5",children:[R.jsx("button",{type:"button",onClick:()=>h("task"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${c==="task"?"bg-neutral-800 text-primary shadow-sm border border-white/5":"text-neutral-500 hover:text-neutral-300"}`,children:"Tarea"}),R.jsx("button",{type:"button",onClick:()=>h("shopping"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${c==="shopping"?"bg-neutral-800 text-orange-400 shadow-sm border border-white/5":"text-neutral-500 hover:text-neutral-300"}`,children:"Compras"})]}),R.jsx("div",{children:R.jsx("input",{ref:g,type:"text",value:a,onChange:w=>l(w.target.value),placeholder:c==="task"?"Qu hay que hacer?":"Qu falta comprar?",className:"w-full text-lg border-b-2 border-neutral-800 focus:border-primary px-0 py-2 outline-none transition-colors bg-transparent text-white placeholder-neutral-600"})}),c==="task"&&R.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 no-scrollbar",children:k.map(w=>R.jsxs("button",{type:"button",onClick:()=>m(w.value),className:`flex items-center px-4 py-2 rounded-full text-sm font-medium transition-all border ${f===w.value?"bg-primary/10 border-primary text-primary":"bg-secondary border-white/5 text-neutral-400 hover:bg-neutral-800"}`,children:[R.jsx(gg,{size:14,className:"mr-2"}),w.label]},w.value))}),R.jsxs("button",{type:"submit",disabled:!a.trim(),className:"w-full bg-primary text-white py-4 rounded-xl font-bold text-lg hover:bg-orange-600 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg shadow-orange-900/20",children:[R.jsx(vg,{size:20,className:"mr-2"}),"Agregar"]})]})]})}):null};function Qi(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function py(s,r,n,a){function l(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function f(y){try{g(a.next(y))}catch(k){h(k)}}function m(y){try{g(a.throw(y))}catch(k){h(k)}}function g(y){y.done?c(y.value):l(y.value).then(f,m)}g((a=a.apply(s,r||[])).next())})}const my=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class Sl extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class gy extends Sl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Ld extends Sl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class $d extends Sl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var cl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(cl||(cl={}));class yy{constructor(r,{headers:n={},customFetch:a,region:l=cl.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=my(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return py(this,arguments,void 0,function*(n,a={}){var l;let c,h;try{const{headers:f,method:m,body:g,signal:y,timeout:k}=a;let w={},{region:b}=a;b||(b=this.region);const T=new URL(`${this.url}/${n}`);b&&b!=="any"&&(w["x-region"]=b,T.searchParams.set("forceFunctionRegion",b));let P;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",P=g):typeof g=="string"?(w["Content-Type"]="text/plain",P=g):typeof FormData<"u"&&g instanceof FormData?P=g:(w["Content-Type"]="application/json",P=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?P=JSON.stringify(g):P=g;let j=y;k&&(h=new AbortController,c=setTimeout(()=>h.abort(),k),y?(j=h.signal,y.addEventListener("abort",()=>h.abort())):j=h.signal);const M=yield this.fetch(T.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:P,signal:j}).catch(le=>{throw new gy(le)}),U=M.headers.get("x-relay-error");if(U&&U==="true")throw new Ld(M);if(!M.ok)throw new $d(M);let D=((l=M.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),H;return D==="application/json"?H=yield M.json():D==="application/octet-stream"||D==="application/pdf"?H=yield M.blob():D==="text/event-stream"?H=M:D==="multipart/form-data"?H=yield M.formData():H=yield M.text(),{data:H,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof $d||f instanceof Ld?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var vy=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},wy=class{constructor(s){var r,n,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(a=s.urlLengthLimit)!==null&&a!==void 0?a:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,f=null,m=null,g=c.status,y=c.statusText;if(c.ok){var k,w;if(n.method!=="HEAD"){var b;const M=await c.text();M===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?f=M:f=JSON.parse(M))}const P=(k=n.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),j=(w=c.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");P&&j&&j.length>1&&(m=parseInt(j[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var T;const P=await c.text();try{h=JSON.parse(P),Array.isArray(h)&&c.status===404&&(f=[],h=null,g=200,y="OK")}catch{c.status===404&&P===""?(g=204,y="No Content"):h={message:P}}if(h&&n.isMaybeSingle&&(!(h==null||(T=h.details)===null||T===void 0)&&T.includes("0 rows"))&&(h=null,g=200,y="OK"),h&&n.shouldThrowOnError)throw new vy(h)}return{error:h,data:f,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var h;let f="",m="",g="";const y=c==null?void 0:c.cause;if(y){var k,w,b,T;const M=(k=y==null?void 0:y.message)!==null&&k!==void 0?k:"",U=(w=y==null?void 0:y.code)!==null&&w!==void 0?w:"";f=`${(b=c==null?void 0:c.name)!==null&&b!==void 0?b:"FetchError"}: ${c==null?void 0:c.message}`,f+=`

Caused by: ${(T=y==null?void 0:y.name)!==null&&T!==void 0?T:"Error"}: ${M}`,U&&(f+=` (${U})`),y!=null&&y.stack&&(f+=`
${y.stack}`)}else{var P;f=(P=c==null?void 0:c.stack)!==null&&P!==void 0?P:""}const j=this.url.toString().length;return(c==null?void 0:c.name)==="AbortError"||(c==null?void 0:c.code)==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((y==null?void 0:y.name)==="HeadersOverflowError"||(y==null?void 0:y.code)==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(m+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:f,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),l.then(s,r)}returns(){return this}overrideTypes(){return this}},_y=class extends wy{select(s){let r=!1;const n=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:a=n}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var h;const f=[s?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Ud=new RegExp("[,()]");var _n=class extends _y{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&Ud.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&Ud.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${l}fts${c}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}},ky=class{constructor(s,{headers:r={},schema:n,fetch:a,urlLengthLimit:l=8e3}){this.url=s,this.headers=new Headers(r),this.schema=n,this.fetch=a,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,r){const{head:n=!1,count:a}=r??{},l=n?"HEAD":"GET";let c=!1;const h=(s??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:f,headers:m}=this.cloneRequestState();return f.searchParams.set("select",h),a&&m.append("Prefer",`count=${a}`),new _n({method:l,url:f,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:r,defaultToNull:n=!0}={}){var a;const l="POST",{url:c,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),n||h.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);c.searchParams.set("columns",m.join(","))}}return new _n({method:l,url:c,headers:h,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:l=!0}={}){var c;const h="POST",{url:f,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&f.searchParams.set("on_conflict",r),a&&m.append("Prefer",`count=${a}`),l||m.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((y,k)=>y.concat(Object.keys(k)),[]);if(g.length>0){const y=[...new Set(g)].map(k=>`"${k}"`);f.searchParams.set("columns",y.join(","))}}return new _n({method:h,url:f,headers:m,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:r}={}){var n;const a="PATCH",{url:l,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new _n({method:a,url:l,headers:c,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var r;const n="DELETE",{url:a,headers:l}=this.cloneRequestState();return s&&l.append("Prefer",`count=${s}`),new _n({method:n,url:a,headers:l,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};function ws(s){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ws(s)}function Sy(s,r){if(ws(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(ws(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function by(s){var r=Sy(s,"string");return ws(r)=="symbol"?r:r+""}function Ey(s,r,n){return(r=by(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Md(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function Mi(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Md(Object(n),!0).forEach(function(a){Ey(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var xy=class kh{constructor(r,{headers:n={},schema:a,fetch:l,timeout:c,urlLengthLimit:h=8e3}={}){this.url=r,this.headers=new Headers(n),this.schemaName=a,this.urlLengthLimit=h;const f=l??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,g)=>{const y=new AbortController,k=setTimeout(()=>y.abort(),c),w=g==null?void 0:g.signal;if(w){if(w.aborted)return clearTimeout(k),f(m,g);const b=()=>{clearTimeout(k),y.abort()};return w.addEventListener("abort",b,{once:!0}),f(m,Mi(Mi({},g),{},{signal:y.signal})).finally(()=>{clearTimeout(k),w.removeEventListener("abort",b)})}return f(m,Mi(Mi({},g),{},{signal:y.signal})).finally(()=>clearTimeout(k))}:this.fetch=f}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ky(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(r){return new kh(this.url,{headers:this.headers,schema:r,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(r,n={},{head:a=!1,get:l=!1,count:c}={}){var h;let f;const m=new URL(`${this.url}/rpc/${r}`);let g;const y=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(y)),k=a&&Object.values(n).some(y);k?(f="POST",g=n):a||l?(f=a?"HEAD":"GET",Object.entries(n).filter(([b,T])=>T!==void 0).map(([b,T])=>[b,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([b,T])=>{m.searchParams.append(b,T)})):(f="POST",g=n);const w=new Headers(this.headers);return k?w.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&w.set("Prefer",`count=${c}`),new _n({method:f,url:m,headers:w,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class Ty{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const l=a.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Oy="2.95.3",Cy=`realtime-js/${Oy}`,Py="1.0.0",Sh="2.0.0",zd=Sh,dl=1e4,Ry=1e3,jy=100;var vr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(vr||(vr={}));var $e;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})($e||($e={}));var jt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(jt||(jt={}));var hl;(function(s){s.websocket="websocket"})(hl||(hl={}));var $r;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})($r||($r={}));class Ny{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,a;const l=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,a;const l=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,n,a){var l,c;const h=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",m=(c=r.join_ref)!==null&&c!==void 0?c:"",g=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},k=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(k.length>255)throw new Error(`metadata length ${k.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+h.length+g.length+k.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let T=new DataView(b),P=0;T.setUint8(P++,this.KINDS.userBroadcastPush),T.setUint8(P++,m.length),T.setUint8(P++,f.length),T.setUint8(P++,h.length),T.setUint8(P++,g.length),T.setUint8(P++,k.length),T.setUint8(P++,n),Array.from(m,M=>T.setUint8(P++,M.charCodeAt(0))),Array.from(f,M=>T.setUint8(P++,M.charCodeAt(0))),Array.from(h,M=>T.setUint8(P++,M.charCodeAt(0))),Array.from(g,M=>T.setUint8(P++,M.charCodeAt(0))),Array.from(k,M=>T.setUint8(P++,M.charCodeAt(0)));var j=new Uint8Array(b.byteLength+a.byteLength);return j.set(new Uint8Array(b),0),j.set(new Uint8Array(a),b.byteLength),j.buffer}decode(r,n){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return n(a)}if(typeof r=="string"){const a=JSON.parse(r),[l,c,h,f,m]=a;return n({join_ref:l,ref:c,topic:h,event:f,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),a=n.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,a){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),f=n.getUint8(4);let m=this.HEADER_LENGTH+4;const g=a.decode(r.slice(m,m+l));m=m+l;const y=a.decode(r.slice(m,m+c));m=m+c;const k=a.decode(r.slice(m,m+h));m=m+h;const w=r.slice(m,r.byteLength),b=f===this.JSON_ENCODING?JSON.parse(a.decode(w)):w,T={type:this.BROADCAST_EVENT,event:y,payload:b};return h>0&&(T.meta=JSON.parse(k)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>n.includes(a)))}}class bh{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ye||(ye={}));const Fd=(s,r,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=Ay(h,s,r,l),c),{}):{}},Ay=(s,r,n,a)=>{const l=r.find(f=>f.name===s),c=l==null?void 0:l.type,h=n[s];return c&&!a.includes(c)?Eh(c,h):fl(h)},Eh=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return $y(r,n)}switch(s){case ye.bool:return Iy(r);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return Dy(r);case ye.json:case ye.jsonb:return Ly(r);case ye.timestamp:return Uy(r);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return fl(r);default:return fl(r)}},fl=s=>s,Iy=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Dy=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},Ly=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},$y=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let c;const h=s.slice(1,n);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(f=>Eh(r,f))}return s},Uy=s=>typeof s=="string"?s.replace(" ","T"):s,xh=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class tl{constructor(r,n,a={},l=dl){this.channel=r,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Bd;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Bd||(Bd={}));class gs{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,l,c,h),this.pendingDiffs.forEach(m=>{this.state=gs.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=gs.syncDiff(this.state,l,c,h),f())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,l){const c=this.cloneDeep(r),h=this.transformState(n),f={},m={};return this.map(c,(g,y)=>{h[g]||(m[g]=y)}),this.map(h,(g,y)=>{const k=c[g];if(k){const w=y.map(j=>j.presence_ref),b=k.map(j=>j.presence_ref),T=y.filter(j=>b.indexOf(j.presence_ref)<0),P=k.filter(j=>w.indexOf(j.presence_ref)<0);T.length>0&&(f[g]=T),P.length>0&&(m[g]=P)}else f[g]=y}),this.syncDiff(c,{joins:f,leaves:m},a,l)}static syncDiff(r,n,a,l){const{joins:c,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(f,m)=>{var g;const y=(g=r[f])!==null&&g!==void 0?g:[];if(r[f]=this.cloneDeep(m),y.length>0){const k=r[f].map(b=>b.presence_ref),w=y.filter(b=>k.indexOf(b.presence_ref)<0);r[f].unshift(...w)}a(f,y,m)}),this.map(h,(f,m)=>{let g=r[f];if(!g)return;const y=m.map(k=>k.presence_ref);g=g.filter(k=>y.indexOf(k.presence_ref)<0),r[f]=g,l(f,g,m),g.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const l=r[a];return"metas"in l?n[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[a]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wd;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Wd||(Wd={}));var ys;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ys||(ys={}));var Yt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class bn{constructor(r,n={config:{}},a){var l,c;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new tl(this,jt.join,this.params,this.timeout),this.rejoinTimer=new bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(h,f)=>{this._trigger(this._replyEventName(f),h)}),this.presence=new gs(this),this.broadcastEndpointURL=xh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:h,presence:f,private:m}}=this.params,g=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[ys.PRESENCE]&&this.bindings[ys.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,k={},w={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(b=>r==null?void 0:r(Yt.CHANNEL_ERROR,b)),this._onClose(()=>r==null?void 0:r(Yt.CLOSED)),this.updateJoinPayload(Object.assign({config:w},k)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){r==null||r(Yt.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,j=(T=P==null?void 0:P.length)!==null&&T!==void 0?T:0,M=[];for(let U=0;U<j;U++){const D=P[U],{filter:{event:H,schema:le,table:te,filter:ae}}=D,Se=b&&b[U];if(Se&&Se.event===H&&bn.isFilterValueEqual(Se.schema,le)&&bn.isFilterValueEqual(Se.table,te)&&bn.isFilterValueEqual(Se.filter,ae))M.push(Object.assign(Object.assign({},D),{id:Se.id}));else{this.unsubscribe(),this.state=$e.errored,r==null||r(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,r&&r(Yt.SUBSCRIBED);return}}).receive("error",b=>{this.state=$e.errored,r==null||r(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===$e.joined&&r===ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const g=await f.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var a,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,f,m;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=$e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new tl(this,jt.leave,{},r),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$e.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),h}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new tl(this,r,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>jy){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var l,c;const h=r.toLocaleLowerCase(),{close:f,error:m,leave:g,join:y}=jt;if(a&&[f,m,g,y].indexOf(h)>=0&&a!==this._joinRef())return;let w=this._onMessage(h,n,a);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var T,P,j;return((T=b.filter)===null||T===void 0?void 0:T.event)==="*"||((j=(P=b.filter)===null||P===void 0?void 0:P.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(b=>b.callback(w,a)):(c=this.bindings[h])===null||c===void 0||c.filter(b=>{var T,P,j,M,U,D;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in b){const H=b.id,le=(T=b.filter)===null||T===void 0?void 0:T.event;return H&&((P=n.ids)===null||P===void 0?void 0:P.includes(H))&&(le==="*"||(le==null?void 0:le.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const H=(U=(M=b==null?void 0:b.filter)===null||M===void 0?void 0:M.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return H==="*"||H===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===h}).map(b=>{if(typeof w=="object"&&"ids"in w){const T=w.data,{schema:P,table:j,commit_timestamp:M,type:U,errors:D}=T;w=Object.assign(Object.assign({},{schema:P,table:j,commit_timestamp:M,eventType:U,new:{},old:{},errors:D}),this._getPayloadRecords(T))}b.callback(w,a)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const l=r.toLocaleLowerCase(),c={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&bn.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(jt.close,{},r)}_onError(r){this._on(jt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Fd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Fd(r.columns,r.old_record)),n}}const rl=()=>{},zi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},My=[1e3,2e3,5e3,1e4],zy=1e4,Fy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class By{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dl,this.transport=null,this.heartbeatIntervalMs=zi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rl,this.ref=0,this.reconnectTimer=null,this.vsn=zd,this.logger=rl,this.conn=null,this.sendBuffer=[],this.serializer=new Ny,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${hl.websocket}`,this.httpEndpoint=xh(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ty.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return n==="ok"&&this._remove(r),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case vr.connecting:return $r.Connecting;case vr.open:return $r.Open;case vr.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===a);if(l)return l;{const c=new bn(`realtime:${r}`,n,this);return this.channels.push(c),c}}push(r){const{topic:n,event:a,payload:l,ref:c}=r,h=()=>{this.encode(r,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${a} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Ry,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:l,payload:c,ref:h}=n,f=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${a} ${l} ${f}`.trim(),c),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(l,c,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===vr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vr.open||this.conn.readyState===vr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(jt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${a}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([Fy],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,a=!1;if(r)n=r,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const c={access_token:n,version:Cy};n&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(jt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new bh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,l,c,h,f,m,g,y,k,w,b;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:dl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:zi.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:rl,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:zd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r==null?void 0:r.reconnectAfterMs)!==null&&g!==void 0?g:(T=>My[T-1]||zy),this.vsn){case Py:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((T,P)=>P(JSON.stringify(T))),this.decode=(k=r==null?void 0:r.decode)!==null&&k!==void 0?k:((T,P)=>P(JSON.parse(T)));break;case Sh:this.encode=(w=r==null?void 0:r.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=r==null?void 0:r.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var _s=class extends Error{constructor(s,r){var n;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Wy(s,r,n){const a=new URL(r,s);if(n)for(const[l,c]of Object.entries(n))c!==void 0&&a.searchParams.set(l,c);return a.toString()}async function qy(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Hy(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:l,body:c,headers:h}){const f=Wy(s.baseUrl,a,l),m=await qy(s.auth),g=await r(f,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),y=await g.text(),k=(g.headers.get("content-type")||"").includes("application/json"),w=k&&y?JSON.parse(y):y;if(!g.ok){const b=k?w:void 0,T=b==null?void 0:b.error;throw new _s((T==null?void 0:T.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:b})}return{status:g.status,headers:g.headers,data:w}}}}function Fi(s){return s.join("")}var Vy=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:Fi(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fi(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fi(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fi(s.namespace)}`}),!0}catch(r){if(r instanceof _s&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof _s&&n.status===409)return;throw n}}};function pn(s){return s.join("")}var Ky=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof _s&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof _s&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},Gy=class{constructor(s){var a;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Hy({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(a=s.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new Vy(this.client,r),this.tableOps=new Ky(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},Xi=class extends Error{constructor(s,r="storage",n,a){super(s),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function Zi(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Bi=class extends Xi{constructor(s,r,n,a="storage"){super(s,a,r,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Th=class extends Xi{constructor(s,r,n="storage"){super(s,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const Jy=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Yy=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},pl=s=>{if(Array.isArray(s))return s.map(n=>pl(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=pl(a)}),r},Qy=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ks(s){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ks(s)}function Xy(s,r){if(ks(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(ks(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Zy(s){var r=Xy(s,"string");return ks(r)=="symbol"?r:r+""}function ev(s,r,n){return(r=Zy(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function qd(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function Z(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?qd(Object(n),!0).forEach(function(a){ev(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}const Hd=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},tv=async(s,r,n,a)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const l=s,c=l.status||500;if(typeof l.json=="function")l.json().then(h=>{const f=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||c+"";r(new Bi(Hd(h),c,f,a))}).catch(()=>{if(a==="vectors"){const h=c+"";r(new Bi(l.statusText||`HTTP ${c} error`,c,h,a))}else{const h=c+"";r(new Bi(l.statusText||`HTTP ${c} error`,c,h,a))}});else{const h=c+"";r(new Bi(l.statusText||`HTTP ${c} error`,c,h,a))}}else r(new Th(Hd(s),s,a))},rv=(s,r,n,a)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||s==="HEAD"||!a?Z(Z({},l),n):(Yy(a)?(l.headers=Z({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(a)):l.body=a,r!=null&&r.duplex&&(l.duplex=r.duplex),Z(Z({},l),n))};async function ps(s,r,n,a,l,c,h){return new Promise((f,m)=>{s(n,rv(r,a,l,c)).then(g=>{if(!g.ok)throw g;if(a!=null&&a.noResolveJson)return g;if(h==="vectors"){const y=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!y||!y.includes("application/json"))return{}}return g.json()}).then(g=>f(g)).catch(g=>tv(g,m,a,h))})}function Oh(s="storage"){return{get:async(r,n,a,l)=>ps(r,"GET",n,a,l,void 0,s),post:async(r,n,a,l,c)=>ps(r,"POST",n,l,c,a,s),put:async(r,n,a,l,c)=>ps(r,"PUT",n,l,c,a,s),head:async(r,n,a,l)=>ps(r,"HEAD",n,Z(Z({},a),{},{noResolveJson:!0}),l,void 0,s),remove:async(r,n,a,l,c)=>ps(r,"DELETE",n,l,c,a,s)}}const nv=Oh("storage"),{get:Ss,post:Rt,put:ml,head:sv,remove:bl}=nv,pt=Oh("vectors");var Tn=class{constructor(s,r={},n,a="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.fetch=Jy(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var r=this;try{return{data:await s(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}},iv=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Zi(r))return{data:null,error:r};throw r}}};let Ch;Ch=Symbol.toStringTag;var av=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[Ch]="BlobDownloadBuilder",this.promise=null}asStream(){return new iv(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Zi(r))return{data:null,error:r};throw r}}};const ov={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var lv=class extends Tn{constructor(s,r={},n,a){super(s,r,a,"storage"),this.bucketId=n}async uploadOrUpdate(s,r,n,a){var l=this;return l.handleOperation(async()=>{let c;const h=Z(Z({},Vd),a);let f=Z(Z({},l.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",l.encodeMetadata(m)),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(m))):(c=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,m&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),a!=null&&a.headers&&(f=Z(Z({},f),a.headers));const g=l._removeEmptyFolders(r),y=l._getFinalPath(g),k=await(s=="PUT"?ml:Rt)(l.fetch,`${l.url}/object/${y}`,c,Z({headers:f},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:g,id:k.Id,fullPath:k.Key}})}async upload(s,r,n){return this.uploadOrUpdate("POST",s,r,n)}async uploadToSignedUrl(s,r,n,a){var l=this;const c=l._removeEmptyFolders(s),h=l._getFinalPath(c),f=new URL(l.url+`/object/upload/sign/${h}`);return f.searchParams.set("token",r),l.handleOperation(async()=>{let m;const g=Z({upsert:Vd.upsert},a),y=Z(Z({},l.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",g.cacheControl)):(m=n,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{path:c,fullPath:(await ml(l.fetch,f.toString(),m,{headers:y})).Key}})}async createSignedUploadUrl(s,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(s);const l=Z({},n.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=await Rt(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:l}),h=new URL(n.url+c.url),f=h.searchParams.get("token");if(!f)throw new Xi("No token returned by API");return{signedUrl:h.toString(),path:s,token:f}})}async update(s,r,n){return this.uploadOrUpdate("PUT",s,r,n)}async move(s,r,n){var a=this;return a.handleOperation(async()=>await Rt(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}))}async copy(s,r,n){var a=this;return a.handleOperation(async()=>({path:(await Rt(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(s,r,n){var a=this;return a.handleOperation(async()=>{let l=a._getFinalPath(s),c=await Rt(a.fetch,`${a.url}/object/sign/${l}`,Z({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const h=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${c.signedURL}${h}`)}})}async createSignedUrls(s,r,n){var a=this;return a.handleOperation(async()=>{const l=await Rt(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:r,paths:s},{headers:a.headers}),c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l.map(h=>Z(Z({},h),{},{signedUrl:h.signedURL?encodeURI(`${a.url}${h.signedURL}${c}`):null}))})}download(s,r,n){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=l?`?${l}`:"",h=this._getFinalPath(s),f=()=>Ss(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0},n);return new av(f,this.shouldThrowOnError)}async info(s){var r=this;const n=r._getFinalPath(s);return r.handleOperation(async()=>pl(await Ss(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})))}async exists(s){var r=this;const n=r._getFinalPath(s);try{return await sv(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Zi(a)&&a instanceof Th){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}}getPublicUrl(s,r){const n=this._getFinalPath(s),a=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&a.push(l);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&a.push(h);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}async remove(s){var r=this;return r.handleOperation(async()=>await bl(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}))}async list(s,r,n){var a=this;return a.handleOperation(async()=>{const l=Z(Z(Z({},ov),r),{},{prefix:s||""});return await Rt(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},n)})}async listV2(s,r){var n=this;return n.handleOperation(async()=>{const a=Z({},s);return await Rt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},r)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const uv="2.95.3",Ts={"X-Client-Info":`storage-js/${uv}`};var cv=class extends Tn{constructor(s,r={},n,a){const l=new URL(s);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const c=l.href.replace(/\/$/,""),h=Z(Z({},Ts),r);super(c,h,n,"storage")}async listBuckets(s){var r=this;return r.handleOperation(async()=>{const n=r.listBucketOptionsToQueryString(s);return await Ss(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers})})}async getBucket(s){var r=this;return r.handleOperation(async()=>await Ss(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}))}async createBucket(s,r={public:!1}){var n=this;return n.handleOperation(async()=>await Rt(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}))}async updateBucket(s,r){var n=this;return n.handleOperation(async()=>await ml(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(s){var r=this;return r.handleOperation(async()=>await Rt(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}))}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await bl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},dv=class extends Tn{constructor(s,r={},n){const a=s.replace(/\/$/,""),l=Z(Z({},Ts),r);super(a,l,n,"storage")}async createBucket(s){var r=this;return r.handleOperation(async()=>await Rt(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}))}async listBuckets(s){var r=this;return r.handleOperation(async()=>{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const a=n.toString(),l=a?`${r.url}/bucket?${a}`:`${r.url}/bucket`;return await Ss(r.fetch,l,{headers:r.headers})})}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await bl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}))}from(s){var r=this;if(!Qy(s))throw new Xi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Gy({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(l,c){const h=l[c];return typeof h!="function"?h:async(...f)=>{try{return{data:await h.apply(l,f),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}}}})}},hv=class extends Tn{constructor(s,r={},n){const a=s.replace(/\/$/,""),l=Z(Z({},Ts),{},{"Content-Type":"application/json"},r);super(a,l,n,"vectors")}async createIndex(s){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{})}async getIndex(s,r){var n=this;return n.handleOperation(async()=>await pt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers}))}async listIndexes(s){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}))}async deleteIndex(s,r){var n=this;return n.handleOperation(async()=>await pt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers})||{})}},fv=class extends Tn{constructor(s,r={},n){const a=s.replace(/\/$/,""),l=Z(Z({},Ts),{},{"Content-Type":"application/json"},r);super(a,l,n,"vectors")}async putVectors(s){var r=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{})}async getVectors(s){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}))}async listVectors(s){var r=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}))}async queryVectors(s){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}))}async deleteVectors(s){var r=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{})}},pv=class extends Tn{constructor(s,r={},n){const a=s.replace(/\/$/,""),l=Z(Z({},Ts),{},{"Content-Type":"application/json"},r);super(a,l,n,"vectors")}async createBucket(s){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{})}async getBucket(s){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}))}async listBuckets(s={}){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}))}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{})}},mv=class extends pv{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new gv(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,n=this;return r().call(n,s)}async getBucket(s){var r=()=>super.getBucket,n=this;return r().call(n,s)}async listBuckets(s={}){var r=()=>super.listBuckets,n=this;return r().call(n,s)}async deleteBucket(s){var r=()=>super.deleteBucket,n=this;return r().call(n,s)}},gv=class extends hv{constructor(s,r,n,a){super(s,r,a),this.vectorBucketName=n}async createIndex(s){var r=()=>super.createIndex,n=this;return r().call(n,Z(Z({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,n=this;return r().call(n,Z(Z({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,s)}index(s){return new yv(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},yv=class extends fv{constructor(s,r,n,a,l){super(s,r,l),this.vectorBucketName=n,this.indexName=a}async putVectors(s){var r=()=>super.putVectors,n=this;return r().call(n,Z(Z({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var r=()=>super.getVectors,n=this;return r().call(n,Z(Z({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,n=this;return r().call(n,Z(Z({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,n=this;return r().call(n,Z(Z({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,n=this;return r().call(n,Z(Z({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},vv=class extends cv{constructor(s,r={},n,a){super(s,r,n,a)}from(s){return new lv(this.url,this.headers,s,this.fetch)}get vectors(){return new mv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dv(this.url+"/iceberg",this.headers,this.fetch)}};const Ph="2.95.3",kn=30*1e3,gl=3,nl=gl*kn,wv="http://localhost:9999",_v="supabase.auth.token",kv={"X-Client-Info":`gotrue-js/${Ph}`},yl="X-Supabase-Api-Version",Rh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bv=600*1e3;class bs extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function G(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Ev extends bs{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function xv(s){return G(s)&&s.name==="AuthApiError"}class Ur extends bs{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Qt extends bs{constructor(r,n,a,l){super(r,a,l),this.name=n,this.status=a}}class ft extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sl(s){return G(s)&&s.name==="AuthSessionMissingError"}class mn extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wi extends Qt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class qi extends Qt{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tv(s){return G(s)&&s.name==="AuthImplicitGrantRedirectError"}class Kd extends Qt{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ov extends Qt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class vl extends Qt{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function il(s){return G(s)&&s.name==="AuthRetryableFetchError"}class Gd extends Qt{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class wl extends Qt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jd=` 	
\r=`.split(""),Cv=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Jd.length;r+=1)s[Jd[r].charCodeAt(0)]=-2;for(let r=0;r<Ki.length;r+=1)s[Ki[r].charCodeAt(0)]=r;return s})();function Yd(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Ki[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Ki[a]),r.queuedBits-=6}}function jh(s,r,n){const a=Cv[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Qd(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{jv(h,a,n)};for(let h=0;h<s.length;h+=1)jh(s.charCodeAt(h),l,c);return r.join("")}function Pv(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Rv(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Pv(a,r)}}function jv(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function xn(s){const r=[],n={queue:0,queuedBits:0},a=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)jh(s.charCodeAt(l),n,a);return new Uint8Array(r)}function Nv(s){const r=[];return Rv(s,n=>r.push(n)),new Uint8Array(r)}function Mr(s){const r=[],n={queue:0,queuedBits:0},a=l=>{r.push(l)};return s.forEach(l=>Yd(l,n,a)),Yd(null,n,a),r.join("")}function Av(s){return Math.round(Date.now()/1e3)+s}function Iv(){return Symbol("auth-callback")}const Ke=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},Nh=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function Dv(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{r[c]=l})}catch{}return n.searchParams.forEach((a,l)=>{r[l]=a}),r}const Ah=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Lv=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Sn=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Ir=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ve=async(s,r)=>{await s.removeItem(r)};class ea{constructor(){this.promise=new ea.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}ea.promiseConstructor=Promise;function Hi(s){const r=s.split(".");if(r.length!==3)throw new wl("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!Sv.test(r[a]))throw new wl("JWT not in base64url format");return{header:JSON.parse(Qd(r[0])),payload:JSON.parse(Qd(r[1])),signature:xn(r[2]),raw:{header:r[0],payload:r[1]}}}async function $v(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function Uv(s,r){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await s(c);if(!r(c,null,h)){a(h);return}}catch(h){if(!r(c,h)){l(h);return}}})()})}function Mv(s){return("0"+s.toString(16)).substr(-2)}function zv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(r),Array.from(r,Mv).join("")}async function Fv(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function Bv(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await Fv(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(s,r,n=!1){const a=zv();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await Sn(s,`${r}-code-verifier`,l);const c=await Bv(a);return[c,a===c?"plain":"s256"]}const Wv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qv(s){const r=s.headers.get(yl);if(!r||!r.match(Wv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Hv(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Vv(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(s){if(!Kv.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function al(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gv(s,r){return new Proxy(s,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,l)}})}function Xd(s){return JSON.parse(JSON.stringify(s))}const Lr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Jv=[502,503,504];async function Zd(s){var r;if(!Lv(s))throw new vl(Lr(s),0);if(Jv.includes(s.status))throw new vl(Lr(s),s.status);let n;try{n=await s.json()}catch(c){throw new Ur(Lr(c),c)}let a;const l=qv(s);if(l&&l.getTime()>=Rh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Gd(Lr(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new ft}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Gd(Lr(n),s.status,n.weak_password.reasons);throw new Ev(Lr(n),s.status||500,a)}const Yv=(s,r,n,a)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function Q(s,r,n,a){var l;const c=Object.assign({},a==null?void 0:a.headers);c[yl]||(c[yl]=Rh["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Qv(s,r,n+f,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function Qv(s,r,n,a,l,c){const h=Yv(r,a,l,c);let f;try{f=await s(n,Object.assign({},h))}catch(m){throw console.error(m),new vl(Lr(m),0)}if(f.ok||await Zd(f),a!=null&&a.noResolveJson)return f;try{return await f.json()}catch(m){await Zd(m)}}function Pt(s){var r;let n=null;e0(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=Av(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function eh(s){const r=Pt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function wr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Xv(s){return{data:s,error:null}}function Zv(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c}=s,h=Qi(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c},m=Object.assign({},h);return{data:{properties:f,user:m},error:null}}function th(s){return s}function e0(s){return s.access_token&&s.refresh_token&&s.expires_in}const ol=["global","local","others"];class t0{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=Ah(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=ol[0]){if(ol.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ol.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(G(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wr})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=Qi(r,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Zv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:wr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,l,c,h,f,m;try{const g={nextPage:null,lastPage:0,total:0},y=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:th});if(y.error)throw y.error;const k=await y.json(),w=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,b=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(T=>{const P=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);g[`${j}Page`]=P}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},k),g),error:null}}catch(g){if(G(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){yn(r);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:wr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){yn(r);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:wr})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){yn(r);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:wr})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){yn(r.userId);try{const{data:n,error:a}=await Q(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(r){yn(r.userId),yn(r.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,l,c,h,f,m;try{const g={nextPage:null,lastPage:0,total:0},y=await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:th});if(y.error)throw y.error;const k=await y.json(),w=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,b=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(T=>{const P=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);g[`${j}Page`]=P}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},k),g),error:null}}catch(g){if(G(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await Q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(G(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}}function rh(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const vn={debug:!!(globalThis&&Nh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ih extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class r0 extends Ih{}async function n0(s,r,n){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new r0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(vn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function s0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dh(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function i0(s){return parseInt(s,16)}function a0(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function o0(s){var r;const{chainId:n,domain:a,expirationTime:l,issuedAt:c=new Date,nonce:h,notBefore:f,requestId:m,resources:g,scheme:y,uri:k,version:w}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!k)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const b=Dh(s.address),T=y?`${y}://${a}`:a,P=s.statement?`${s.statement}
`:"",j=`${T} wants you to sign in with your Ethereum account:
${b}

${P}`;let M=`URI: ${k}
Version: ${w}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(l&&(M+=`
Expiration Time: ${l.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),m&&(M+=`
Request ID: ${m}`),g){let U=`
Resources:`;for(const D of g){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);U+=`
- ${D}`}M+=U}return`${j}
${M}`}class Ae extends Error{constructor({message:r,code:n,cause:a,name:l}){var c;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=l??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class Gi extends Ae{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function l0({error:s,options:r}){var n,a,l;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ae({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(Lh(h)){if(c.rp.id!==h)return new Ae({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function u0({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ae({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(Lh(a)){if(n.rpId!==a)return new Ae({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class c0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const d0=new c0;function h0(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:a}=s,l=Qi(s,["challenge","user","excludeCredentials"]),c=xn(r).buffer,h=Object.assign(Object.assign({},n),{id:xn(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:h});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const g=a[m];f.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:xn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function f0(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,a=Qi(s,["challenge","allowCredentials"]),l=xn(r).buffer,c=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const f=n[h];c.allowCredentials[h]=Object.assign(Object.assign({},f),{id:xn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function p0(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Mr(new Uint8Array(s.response.attestationObject)),clientDataJSON:Mr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function m0(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,a=s.getClientExtensionResults(),l=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Mr(new Uint8Array(l.authenticatorData)),clientDataJSON:Mr(new Uint8Array(l.clientDataJSON)),signature:Mr(new Uint8Array(l.signature)),userHandle:l.userHandle?Mr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Lh(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function nh(){var s,r;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function g0(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Gi("Browser returned unexpected credential type",r)}:{data:null,error:new Gi("Empty credential response",r)}}catch(r){return{data:null,error:l0({error:r,options:s})}}}async function y0(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Gi("Browser returned unexpected credential type",r)}:{data:null,error:new Gi("Empty credential response",r)}}catch(r){return{data:null,error:u0({error:r,options:s})}}}const v0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},w0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ji(...s){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of s)if(l)for(const c in l){const h=l[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(n(h))a[c]=h;else if(r(h)){const f=a[c];r(f)?a[c]=Ji(f,h):a[c]=Ji(h)}else a[c]=h}return a}function _0(s,r){return Ji(v0,s,r||{})}function k0(s,r){return Ji(w0,s,r||{})}class S0{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:l},c){var h;try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!f)return{data:null,error:m};const g=l??d0.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;if(!y.name){const k=a;if(k)y.name=`${y.id}:${k}`;else{const b=(await this.client.getUser()).data.user,T=((h=b==null?void 0:b.user_metadata)===null||h===void 0?void 0:h.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";y.name=`${y.id}:${T}`}}y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=_0(f.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:k,error:w}=await g0({publicKey:y,signal:g});return k?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:k}},error:null}:{data:null,error:w}}case"request":{const y=k0(f.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:k,error:w}=await y0(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return k?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:k}},error:null}:{data:null,error:w}}}}catch(f){return G(f)?{data:null,error:f}:{data:null,error:new Ur("Unexpected error in challenge",f)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new bs("rpId is required for WebAuthn authentication")};try{if(!nh())return{data:null,error:new Ur("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:c});if(!h)return{data:null,error:f};const{webauthn:m}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:a,credential_response:m.credential_response}})}catch(h){return G(h)?{data:null,error:h}:{data:null,error:new Ur("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new bs("rpId is required for WebAuthn registration")};try{if(!nh())return{data:null,error:new Ur("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(y=>{var k;return(k=y.data)===null||k===void 0?void 0:k.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===r&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:m,error:g}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(h){return G(h)?{data:null,error:h}:{data:null,error:new Ur("Unexpected error in register",h)}}}}s0();const b0={url:wv,storageKey:_v,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sh(s,r,n){return await n()}const wn={};class Es{get jwks(){var r,n;return(n=(r=wn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=wn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{cachedAt:r})}constructor(r){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},b0),r);if(this.storageKey=c.storageKey,this.instanceID=(n=Es.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Es.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ke()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new t0({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Ah(c.fetch),this.lock=c.lock||sh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Ke()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=n0:this.lock=sh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new S0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Nh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rh(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=rh(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ph}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},a="none";if(Ke()&&(n=Dv(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Ke()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Tv(c)){const m=(r=c.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return G(n)?this._returnResult({error:n}):this._returnResult({error:new Ur("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,l;try{const c=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Pt}),{data:h,error:f}=c;if(f||!h)return this._returnResult({data:{user:null,session:null},error:f});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(G(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var n,a,l;try{let c;if("email"in r){const{email:y,password:k,options:w}=r;let b=null,T=null;this.flowType==="pkce"&&([b,T]=await gn(this.storage,this.storageKey)),c=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:k,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:T},xform:Pt})}else if("phone"in r){const{phone:y,password:k,options:w}=r;c=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:k,data:(a=w==null?void 0:w.data)!==null&&a!==void 0?a:{},channel:(l=w==null?void 0:w.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Pt})}else throw new Wi("You must provide either an email or phone number and a password");const{data:h,error:f}=c;if(f||!h)return await Ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(await Ve(this.storage,`${this.storageKey}-code-verifier`),G(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let n;if("email"in r){const{email:c,password:h,options:f}=r;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:eh})}else if("phone"in r){const{phone:c,password:h,options:f}=r;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:eh})}else throw new Wi("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const c=new mn;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,a,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,l,c,h,f,m,g,y,k,w;let b,T;if("message"in r)b=r.message,T=r.signature;else{const{chain:P,wallet:j,statement:M,options:U}=r;let D;if(Ke())if(typeof j=="object")D=j;else{const je=window;if("ethereum"in je&&typeof je.ethereum=="object"&&"request"in je.ethereum&&typeof je.ethereum.request=="function")D=je.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=j}const H=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href),le=await D.request({method:"eth_requestAccounts"}).then(je=>je).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=Dh(le[0]);let ae=(a=U==null?void 0:U.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ae){const je=await D.request({method:"eth_chainId"});ae=i0(je)}const Se={domain:H.host,address:te,statement:M,uri:H.href,version:"1",chainId:ae,nonce:(l=U==null?void 0:U.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(c=U==null?void 0:U.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(f=U==null?void 0:U.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=U==null?void 0:U.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=U==null?void 0:U.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=U==null?void 0:U.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=o0(Se),T=await D.request({method:"personal_sign",params:[a0(b),te]})}try{const{data:P,error:j}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:T},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(w=r.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Pt});if(j)throw j;if(!P||!P.session||!P.user){const M=new mn;return this._returnResult({data:{user:null,session:null},error:M})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:j})}catch(P){if(G(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(r){var n,a,l,c,h,f,m,g,y,k,w,b;let T,P;if("message"in r)T=r.message,P=r.signature;else{const{chain:j,wallet:M,statement:U,options:D}=r;let H;if(Ke())if(typeof M=="object")H=M;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))H=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=M}const le=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in H&&H.signIn){const te=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),U?{statement:U}:null));let ae;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")ae=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)ae=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)T=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),P=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${le.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(l=(a=D==null?void 0:D.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((k=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||k===void 0)&&k.length?["Resources",...D.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const te=await H.signMessage(new TextEncoder().encode(T),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=te}}try{const{data:j,error:M}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Mr(P)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Pt});if(M)throw M;if(!j||!j.session||!j.user){const U=new mn;return this._returnResult({data:{user:null,session:null},error:U})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:M})}catch(j){if(G(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const n=await Ir(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Ov;const{data:c,error:h}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Pt});if(await Ve(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const f=new mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(await Ve(this.storage,`${this.storageKey}-code-verifier`),G(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:n,provider:a,token:l,access_token:c,nonce:h}=r,f=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pt}),{data:m,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new mn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,a,l,c,h;try{if("email"in r){const{email:f,options:m}=r;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await gn(this.storage,this.storageKey));const{error:k}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:k})}if("phone"in r){const{phone:f,options:m}=r,{data:g,error:y}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y})}throw new Wi("You must provide either an email or phone number.")}catch(f){if(await Ve(this.storage,`${this.storageKey}-code-verifier`),G(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,a;try{let l,c;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:f}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Pt});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,g=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(G(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,a,l,c,h;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await gn(this.storage,this.storageKey));const g=await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:Xv});return!((c=g.data)===null||c===void 0)&&c.url&&Ke()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await Ve(this.storage,`${this.storageKey}-code-verifier`),G(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new ft;const{error:l}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:l,options:c}=r,{error:h}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:a,type:l,options:c}=r,{data:h,error:f}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new Wi("You must provide either an email or phone number and a type")}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<nl:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await Ir(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=al()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Gv(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:wr}):await this._useSession(async n=>{var a,l,c;const{data:h,error:f}=n;if(f)throw f;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:wr})})}catch(n){if(G(n))return sl(n)&&(await this._removeSession(),await Ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new ft;const h=l.session;let f=null,m=null;this.flowType==="pkce"&&r.email!=null&&([f,m]=await gn(this.storage,this.storageKey));const{data:g,error:y}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:m}),jwt:h.access_token,xform:wr});if(y)throw y;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await Ve(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ft;const n=Date.now()/1e3;let a=n,l=!0,c=null;const{payload:h}=Hi(r.access_token);if(h.exp&&(a=h.exp,l=a<=n),l){const{data:f,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(r.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(G(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:h,error:f}=n;if(f)throw f;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new ft;const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Ke())throw new qi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new qi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Kd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Kd("No code detected.");const{data:U,error:D}=await this._exchangeCodeForSession(r.code);if(D)throw D;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:f,expires_at:m,token_type:g}=r;if(!c||!f||!h||!g)throw new qi("No session defined in URL");const y=Math.round(Date.now()/1e3),k=parseInt(f);let w=y+k;m&&(w=parseInt(m));const b=w-y;b*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${k}s`);const T=w-k;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,w,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,w,y);const{data:P,error:j}=await this._getUser(c);if(j)throw j;const M={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:k,expires_at:w,refresh_token:h,token_type:g,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:r.type},error:null})}catch(a){if(G(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Ir(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c&&!sl(c))return this._returnResult({error:c});const h=(a=l.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:f}=await this.admin.signOut(h,r);if(f&&!(xv(f)&&(f.status===404||f.status===401||f.status===403)||sl(f)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await Ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Iv(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,l;try{const{data:{session:c},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await gn(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await Ve(this.storage,`${this.storageKey}-code-verifier`),G(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:l}=await this._useSession(async c=>{var h,f,m,g,y;const{data:k,error:w}=c;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(g=k.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Ke()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:r.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(G(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:c}}=n;if(l)throw l;const{options:h,provider:f,token:m,access_token:g,nonce:y}=r,k=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c==null?void 0:c.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pt}),{data:w,error:b}=k;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new mn}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(l){if(await Ve(this.storage,`${this.storageKey}-code-verifier`),G(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,l;const{data:c,error:h}=n;if(h)throw h;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await Uv(async l=>(l>0&&await $v(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Pt})),(l,c)=>{const h=200*Math.pow(2,l);return c&&il(c)&&Date.now()+h-a<kn})}catch(a){if(this._debug(n,"error",a),G(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),Ke()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Ir(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await Sn(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:al()}else if(l&&!l.user&&!l.user){const h=await Ir(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await Ve(this.storage,this.storageKey+"-user"),await Sn(this.storage,this.storageKey,l)):l.user=al()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<nl;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${nl}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),il(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(l.access_token);!f&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new ea;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new ft;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),G(c)){const h={data:null,error:c};return il(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,a=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Ve(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Sn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=Xd(l);await Sn(this.storage,this.storageKey,c)}else{const l=Xd(n);await Sn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ve(this.storage,this.storageKey),await Ve(this.storage,this.storageKey+"-code-verifier"),await Ve(this.storage,this.storageKey+"-user"),this.userStorage&&await Ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-r)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${kn}ms, refresh threshold is ${gl} ticks`),l<=gl&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Ih)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await gn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(f.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;return c?this._returnResult({data:null,error:c}):await Q(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,l;const{data:c,error:h}=n;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:g}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?p0(r.webauthn.credential_response):m0(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:m}=await Q(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=await Q(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:f}=h;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:h0(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:f0(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(r){var n,a,l,c;if(r)try{const{payload:b}=Hi(r);let T=null;b.aal&&(T=b.aal);let P=T;const{data:{user:j},error:M}=await this.getUser(r);if(M)return this._returnResult({data:null,error:M});((a=(n=j==null?void 0:j.factors)===null||n===void 0?void 0:n.filter(H=>H.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(P="aal2");const D=b.amr||[];return{data:{currentLevel:T,nextLevel:P,currentAuthenticationMethods:D},error:null}}catch(b){if(G(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:h},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Hi(h.access_token);let g=null;m.aal&&(g=m.aal);let y=g;((c=(l=h.user.factors)===null||l===void 0?void 0:l.filter(b=>b.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(y="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await Q(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new ft})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new ft});const h=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&Ke()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new ft});const h=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&Ke()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ft})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?(await Q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ft})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(f=>f.kid===r);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===r),a&&this.jwks_cached_at+bv>l)return a;const{data:c,error:h}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,a=c.keys.find(f=>f.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:b,error:T}=await this.getSession();if(T||!b.session)return this._returnResult({data:null,error:T});a=b.session.access_token}const{header:l,payload:c,signature:h,raw:{header:f,payload:m}}=Hi(a);n!=null&&n.allowExpired||Hv(c.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:c,header:l,signature:h},error:null}}const y=Vv(l.alg),k=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,k,h,Nv(`${f}.${m}`)))throw new wl("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}}Es.nextInstanceID={};const E0=Es,x0="2.95.3";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const T0={"X-Client-Info":`supabase-js-${ms}/${x0}`},O0={headers:T0},C0={schema:"public"},P0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R0={};function xs(s){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xs(s)}function j0(s,r){if(xs(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(xs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function N0(s){var r=j0(s,"string");return xs(r)=="symbol"?r:r+""}function A0(s,r,n){return(r=N0(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function ih(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function Ce(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ih(Object(n),!0).forEach(function(a){A0(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}const I0=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),D0=()=>Headers,L0=(s,r,n)=>{const a=I0(n),l=D0();return async(c,h)=>{var f;const m=(f=await r())!==null&&f!==void 0?f:s;let g=new l(h==null?void 0:h.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),a(c,Ce(Ce({},h),{},{headers:g}))}};function $0(s){return s.endsWith("/")?s:s+"/"}function U0(s,r){var n,a;const{db:l,auth:c,realtime:h,global:f}=s,{db:m,auth:g,realtime:y,global:k}=r,w={db:Ce(Ce({},m),l),auth:Ce(Ce({},g),c),realtime:Ce(Ce({},y),h),storage:{},global:Ce(Ce(Ce({},k),f),{},{headers:Ce(Ce({},(n=k==null?void 0:k.headers)!==null&&n!==void 0?n:{}),(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function M0(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($0(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var z0=class extends E0{constructor(s){super(s)}},F0=class{constructor(s,r,n){var a,l;this.supabaseUrl=s,this.supabaseKey=r;const c=M0(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:C0,realtime:R0,auth:Ce(Ce({},P0),{},{storageKey:h}),global:O0},m=U0(n??{},f);if(this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=L0(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new xy(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new vv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new yy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,n;if(s.accessToken)return await s.accessToken();const{data:a}=await s.auth.getSession();return(r=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:l,storageKey:c,flowType:h,lock:f,debug:m,throwOnError:g},y,k){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new z0({url:this.authUrl.href,headers:Ce(Ce({},w),y),storageKey:c,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:l,flowType:h,lock:f,debug:m,throwOnError:g,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new By(this.realtimeUrl.href,Ce(Ce({},s),{},{params:Ce(Ce({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const B0=(s,r,n)=>new F0(s,r,n);function W0(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const r=s.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}W0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const q0="https://pxndaqhufzodiuyfbtcw.supabase.co",H0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB4bmRhcWh1ZnpvZGl1eWZidGN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjY2MTEsImV4cCI6MjA4NjE0MjYxMX0.Qy65S7BG5h59op01Xqe4MK4ZA8MzvjzQ0DaY_d3GrDc",Ue=B0(q0,H0),V0="/assets/logo-white-WV5027s-.svg",K0=({onLogin:s})=>{const[r,n]=re.useState(null),[a,l]=re.useState(""),[c,h]=re.useState(""),[f,m]=re.useState(!0),[g,y]=re.useState([]);re.useEffect(()=>{(async()=>{try{const{data:P,error:j}=await Ue.from("profiles").select("id, name, pin").order("name");if(j)throw j;!P||P.length===0?y([{id:"1",name:"Junior",pin:"1234"},{id:"2",name:"Tamara",pin:"5678"}]):y(P)}catch(P){console.error("Error fetching profiles:",P),y([{id:"1",name:"Junior",pin:"1234"},{id:"2",name:"Tamara",pin:"5678"}])}finally{m(!1)}})()},[]);const k=T=>{const P=T.target.value;P.length<=4&&/^\d*$/.test(P)&&(l(P),h(""),P.length===4&&b(P))},w=T=>{n(T),l(""),h("")},b=T=>{T===r.pin?s(r.name):(h("PIN Incorrecto"),l(""))};return f?R.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center text-white",children:"Cargando..."}):R.jsxs("div",{className:"min-h-screen bg-[#050505] flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[R.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[500px] h-[500px] bg-orange-500/10 rounded-full blur-[120px]"}),R.jsx("div",{className:"absolute bottom-[-20%] left-[-20%] w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-[120px]"}),R.jsxs("div",{className:"w-full max-w-md z-10 flex flex-col items-center",children:[R.jsxs("div",{className:"mb-12 flex flex-col items-center animate-in fade-in slide-in-from-bottom-4 duration-1000",children:[R.jsx("img",{src:V0,alt:"Logo",className:"h-12 mb-6 opacity-90"}),R.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-amber-200 tracking-tight",children:"Family OS"})]}),r?R.jsxs("div",{className:"w-full max-w-xs animate-in fade-in zoom-in-95 duration-300",children:[R.jsx("button",{onClick:()=>n(null),className:"mb-8 text-neutral-500 hover:text-white text-sm flex items-center justify-center transition-colors",children:" Volver"}),R.jsxs("div",{className:"text-center mb-8",children:[R.jsxs("h2",{className:"text-xl text-neutral-200 font-medium mb-2",children:["Hola, ",r.name]}),R.jsx("p",{className:"text-neutral-500 text-sm",children:"Ingresa tu PIN de acceso"})]}),R.jsxs("div",{className:"bg-neutral-900/30 p-8 rounded-3xl border border-white/5 shadow-2xl backdrop-blur-sm",children:[R.jsx("input",{type:"password",value:a,onChange:k,className:"w-full bg-transparent text-center text-4xl font-bold text-white tracking-[0.5em] focus:outline-none mb-2 placeholder-neutral-800",placeholder:"",autoFocus:!0}),c&&R.jsx("p",{className:"text-red-400 text-xs text-center mt-4 font-medium animate-pulse",children:c})]}),R.jsx("div",{className:"mt-8 text-center",children:R.jsx("p",{className:"text-neutral-600 text-xs",children:"PIN por defecto: 1234 / 5678"})})]}):R.jsxs("div",{className:"w-full space-y-4 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-150",children:[R.jsx("p",{className:"text-neutral-500 text-center mb-6 text-sm uppercase tracking-widest font-medium",children:"Quin eres?"}),R.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.map(T=>R.jsxs("button",{onClick:()=>w(T),className:"aspect-square rounded-2xl bg-neutral-900/50 border border-white/5 hover:border-orange-500/50 hover:bg-neutral-800 transition-all group flex flex-col items-center justify-center gap-3",children:[R.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-neutral-800 to-neutral-900 flex items-center justify-center border border-white/5 group-hover:border-orange-500/30 shadow-lg",children:R.jsx("span",{className:"text-2xl font-bold text-neutral-300 group-hover:text-orange-400",children:T.name.charAt(0)})}),R.jsx("span",{className:"text-neutral-400 font-medium group-hover:text-white",children:T.name})]},T.id))})]})]})]})},G0=({selectedDate:s,onSelectDate:r})=>{const n=re.useRef(null),a=new Date,l=ll(a,-2),c=Array.from({length:14},(h,f)=>ll(l,f));return re.useEffect(()=>{n.current},[s]),R.jsx("div",{className:"overflow-x-auto pb-4 px-4 no-scrollbar",ref:n,children:R.jsx("div",{className:"flex space-x-3",children:c.map(h=>{const f=ul(h,s),m=ul(h,a);return R.jsxs("button",{onClick:()=>r(h),className:`flex flex-col items-center justify-center min-w-[3.5rem] h-16 rounded-2xl transition-all border ${f?"bg-primary border-primary text-white shadow-lg shadow-orange-900/20":"bg-secondary border-white/5 text-neutral-400 hover:bg-neutral-800"}`,children:[R.jsx("span",{className:"text-xs font-medium uppercase",children:Ad(h,"EEE",{locale:hy}).replace(".","")}),R.jsx("span",{className:`text-lg font-bold ${f?"text-white":"text-neutral-200"}`,children:Ad(h,"d")}),m&&!f&&R.jsx("div",{className:"w-1 h-1 rounded-full bg-primary mt-1"})]},h.toISOString())})})})};function ah(s,r){const n=()=>{if(typeof window>"u")return r;try{const h=window.localStorage.getItem(s);return h?JSON.parse(h):r}catch(h){return console.warn(`Error reading localStorage key ${s}:`,h),r}},[a,l]=re.useState(n),c=h=>{try{const f=h instanceof Function?h(a):h;l(f),typeof window<"u"&&window.localStorage.setItem(s,JSON.stringify(f))}catch(f){console.warn(`Error setting localStorage key ${s}:`,f)}};return re.useEffect(()=>{l(n())},[]),[a,c]}const J0=()=>{const[s,r]=re.useState([]),[n,a]=re.useState(!0),[l,c]=re.useState(null);return re.useEffect(()=>{(async()=>{try{const{data:w,error:b}=await Ue.from("tasks").select("*").order("created_at",{ascending:!1});if(b)throw b;r(w||[])}catch(w){console.error("Error fetching tasks:",w),c(w.message)}finally{a(!1)}})();const k=Ue.channel("public:tasks").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},w=>{w.eventType==="INSERT"?r(b=>[w.new,...b]):w.eventType==="UPDATE"?r(b=>b.map(T=>T.id===w.new.id?w.new:T)):w.eventType==="DELETE"&&r(b=>b.filter(T=>T.id!==w.old.id))}).subscribe();return()=>{Ue.removeChannel(k)}},[]),{tasks:s,loading:n,error:l,addTask:async(y,k=new Date,w=!1)=>{try{const b={text:y,completed:!1,date:k.toISOString(),is_recurring:w},{error:T}=await Ue.from("tasks").insert([b]);if(T)throw T}catch(b){console.error("Error adding task:",b),c(b.message)}},toggleTask:async(y,k)=>{try{const{error:w}=await Ue.from("tasks").update({completed:!k}).eq("id",y);if(w)throw w}catch(w){console.error("Error toggling task:",w),c(w.message)}},deleteTask:async y=>{try{const{error:k}=await Ue.from("tasks").delete().eq("id",y);if(k)throw k}catch(k){console.error("Error deleting task:",k),c(k.message)}},updateTaskFields:async(y,k)=>{try{const{error:w}=await Ue.from("tasks").update(k).eq("id",y);if(w)throw w}catch(w){console.error("Error updating task:",w),c(w.message)}}}},Y0=()=>{const[s,r]=re.useState([]),[n,a]=re.useState(!0),[l,c]=re.useState(null);return re.useEffect(()=>{(async()=>{try{const{data:k,error:w}=await Ue.from("shopping_items").select("*").order("created_at",{ascending:!1});if(w)throw w;r(k||[])}catch(k){console.error("Error fetching shopping items:",k),c(k.message)}finally{a(!1)}})();const y=Ue.channel("public:shopping_items").on("postgres_changes",{event:"*",schema:"public",table:"shopping_items"},k=>{k.eventType==="INSERT"?r(w=>[k.new,...w]):k.eventType==="UPDATE"?r(w=>w.map(b=>b.id===k.new.id?k.new:b)):k.eventType==="DELETE"&&r(w=>w.filter(b=>b.id!==k.old.id))}).subscribe();return()=>{Ue.removeChannel(y)}},[]),{items:s,loading:n,error:l,addItem:async g=>{try{const y={text:g,completed:!1},{error:k}=await Ue.from("shopping_items").insert([y]);if(k)throw k}catch(y){console.error("Error adding shopping item:",y),c(y.message)}},toggleItem:async(g,y)=>{try{const{error:k}=await Ue.from("shopping_items").update({completed:!y}).eq("id",g);if(k)throw k}catch(k){console.error("Error toggling shopping item:",k),c(k.message)}},deleteItem:async g=>{try{const{error:y}=await Ue.from("shopping_items").delete().eq("id",g);if(y)throw y}catch(y){console.error("Error deleting shopping item:",y),c(y.message)}}}},Q0=()=>{const[s,r]=re.useState([]),[n,a]=re.useState(!0),[l,c]=re.useState(null);return re.useEffect(()=>{(async()=>{try{const{data:y,error:k}=await Ue.from("recurring_tasks").select("*").order("created_at",{ascending:!1});if(k)throw k;r(y||[])}catch(y){console.error("Error fetching recurring tasks:",y),c(y.message)}finally{a(!1)}})();const g=Ue.channel("public:recurring_tasks").on("postgres_changes",{event:"*",schema:"public",table:"recurring_tasks"},y=>{y.eventType==="INSERT"?r(k=>[y.new,...k]):y.eventType==="UPDATE"?r(k=>k.map(w=>w.id===y.new.id?y.new:w)):y.eventType==="DELETE"&&r(k=>k.filter(w=>w.id!==y.old.id))}).subscribe();return()=>{Ue.removeChannel(g)}},[]),{recurringTasks:s,loading:n,error:l,addRecurring:async(m,g,y=[])=>{try{const k={text:m,frequency:g,days:y},{error:w}=await Ue.from("recurring_tasks").insert([k]);if(w)throw w}catch(k){console.error("Error adding recurring task:",k),c(k.message)}},deleteRecurring:async m=>{try{const{error:g}=await Ue.from("recurring_tasks").delete().eq("id",m);if(g)throw g}catch(g){console.error("Error deleting recurring task:",g),c(g.message)}}}};function X0(){const{tasks:s,addTask:r,toggleTask:n,deleteTask:a,updateTaskFields:l,loading:c}=J0(),{items:h,addItem:f,toggleItem:m,deleteItem:g}=Y0(),{recurringTasks:y,addRecurring:k,deleteRecurring:w}=Q0(),[b,T]=ah("fam_dashboard_auth",!1),[P,j]=ah("fam_dashboard_last_gen",null),[M,U]=re.useState(!1),[D,H]=re.useState(!1),[le,te]=re.useState(new Date);re.useEffect(()=>{const xe=zr(new Date).toISOString();if(P!==xe&&y.length>0){const Be=Jm(new Date);y.forEach(Ie=>{let We=!1;(Ie.frequency==="daily"||Ie.frequency==="weekly"&&Ie.days.includes(Be))&&(We=!0),We&&r(Ie.text,new Date,!0)}),j(xe)}},[y,P,j]),re.useEffect(()=>{if(s.length>0&&!c){const xe=zr(new Date);s.forEach(Be=>{if(!Be.completed&&Be.date){const Ie=Id(Be.date);Ym(zr(Ie),xe)&&l(Be.id,{date:xe.toISOString()})}})}},[s,c]);const ae=(xe,Be,Ie)=>{xe==="task"?r(Be,Ie):f(Be),U(!1)};if(!b)return R.jsx(K0,{onLogin:xe=>{localStorage.setItem("fam_dashboard_user",JSON.stringify(xe)),T(!0)}});const Se=JSON.parse(localStorage.getItem("fam_dashboard_user")||'"Familia"'),je=s.filter(xe=>xe.date?ul(Id(xe.date),le):!0);return R.jsxs(jg,{children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx(Ng,{names:Se,greeting:"Hola"}),R.jsx("button",{onClick:()=>H(!0),className:"mt-8 mr-4 p-2 text-neutral-500 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:R.jsx(Tg,{size:20})})]}),R.jsx(G0,{selectedDate:le,onSelectDate:te}),R.jsxs("div",{className:"space-y-6 mt-6",children:[R.jsx(Ag,{tasks:je,onToggle:n,onDelete:a}),R.jsx(Ig,{items:h,onToggle:m,onDelete:g})]}),R.jsx(Dg,{onClick:()=>U(!0)}),R.jsx(fy,{isOpen:M,onClose:()=>U(!1),onAdd:ae}),R.jsx(Rg,{isOpen:D,onClose:()=>H(!1),recurringTasks:y,onAdd:k,onDelete:w})]})}qp.createRoot(document.getElementById("root")).render(R.jsx($p.StrictMode,{children:R.jsx(X0,{})}));
